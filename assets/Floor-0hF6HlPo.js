import{g as dn,a as pn,r as pe,u as Yn,j as re,s as mt,c as mn,b as gn,d as Jn,e as Qn,m as Xn,f as xt,h as Rn,i as zn,k as ei,l as ti,n as kt,o as ni,p as si,q as ii,t as ri,C as ai,B as oi,v as li,w as ci,x as fi,y as ui,S as es,z as hi,A as di,F as pi,D as mi}from"./index-COEmp62u.js";import{u as ts,f as gi,c as yi,S as bi,a as wi,F as _i,b as ki,d as vi,e as Si,A as Ai,g as Ei,h as Oi}from"./AutoSubmit-CFr04VNH.js";function Ci(n){return dn("MuiFormGroup",n)}pn("MuiFormGroup",["root","row","error"]);const Ii=n=>{const{classes:t,row:e,error:s}=n;return gn({root:["root",e&&"row",s&&"error"]},Ci,t)},Ni=mt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Ti=pe.forwardRef(function(t,e){const s=Yn({props:t,name:"MuiFormGroup"}),{className:i,row:r=!1,...a}=s,o=ts(),l=gi({props:s,muiFormControl:o,states:["error"]}),h={...s,row:r,error:l.error},w=Ii(h);return re.jsx(Ni,{className:mn(w.root,i),ownerState:h,ref:e,...a})}),Li=Jn(re.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),xi=Jn(re.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Bi=mt("span",{shouldForwardProp:Qn})({position:"relative",display:"flex"}),Ri=mt(Li)({transform:"scale(1)"}),zi=mt(xi)(Xn(({theme:n})=>({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})}}]})));function ns(n){const{checked:t=!1,classes:e={},fontSize:s}=n,i={...n,checked:t};return re.jsxs(Bi,{className:e.root,ownerState:i,children:[re.jsx(Ri,{fontSize:s,className:e.background,ownerState:i}),re.jsx(zi,{fontSize:s,className:e.dot,ownerState:i})]})}const ss=pe.createContext(void 0);function Di(){return pe.useContext(ss)}function Pi(n){return dn("MuiRadio",n)}const Dn=pn("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),ji=n=>{const{classes:t,color:e,size:s}=n,i={root:["root",`color${xt(e)}`,s!=="medium"&&`size${xt(s)}`]};return{...t,...gn(i,Pi,t)}},Fi=mt(bi,{shouldForwardProp:n=>Qn(n)||n==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size!=="medium"&&t[`size${xt(e.size)}`],t[`color${xt(e.color)}`]]}})(Xn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,[`&.${Dn.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Rn(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(zn()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Rn(n.palette[t].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(zn()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${Dn.checked}`]:{color:(n.vars||n).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function $i(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}const Pn=re.jsx(ns,{checked:!0}),jn=re.jsx(ns,{}),Mi=pe.forwardRef(function(t,e){const s=Yn({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:r=Pn,color:a="primary",icon:o=jn,name:l,onChange:h,size:w="medium",className:m,disabled:g,disableRipple:u=!1,...b}=s,c=ts();let d=g;c&&typeof d>"u"&&(d=c.disabled),d??(d=!1);const y={...s,disabled:d,disableRipple:u,color:a,size:w},_=ji(y),S=Di();let E=i;const O=yi(h,S&&S.onChange);let I=l;return S&&(typeof E>"u"&&(E=$i(S.value,s.value)),typeof I>"u"&&(I=S.name)),re.jsx(Fi,{type:"radio",icon:pe.cloneElement(o,{fontSize:jn.props.fontSize??w}),checkedIcon:pe.cloneElement(r,{fontSize:Pn.props.fontSize??w}),disabled:d,ownerState:y,classes:_,name:I,checked:E,onChange:O,ref:e,className:mn(_.root,m),...b})});function Ui(n){return dn("MuiRadioGroup",n)}pn("MuiRadioGroup",["root","row","error"]);const Ki=n=>{const{classes:t,row:e,error:s}=n;return gn({root:["root",e&&"row",s&&"error"]},Ui,t)},qi=pe.forwardRef(function(t,e){const{actions:s,children:i,className:r,defaultValue:a,name:o,onChange:l,value:h,...w}=t,m=pe.useRef(null),g=Ki(t),[u,b]=wi({controlled:h,default:a,name:"RadioGroup"});pe.useImperativeHandle(s,()=>({focus:()=>{let _=m.current.querySelector("input:not(:disabled):checked");_||(_=m.current.querySelector("input:not(:disabled)")),_&&_.focus()}}),[]);const c=ei(e,m),d=ti(o),y=pe.useMemo(()=>({name:d,onChange(_){b(_.target.value),l&&l(_,_.target.value)},value:u}),[d,l,b,u]);return re.jsx(ss.Provider,{value:y,children:re.jsx(Ti,{role:"radiogroup",ref:c,className:mn(g.root,r),...w,children:i})})}),yn=Symbol.for("yaml.alias"),on=Symbol.for("yaml.document"),Re=Symbol.for("yaml.map"),is=Symbol.for("yaml.pair"),Te=Symbol.for("yaml.scalar"),et=Symbol.for("yaml.seq"),Se=Symbol.for("yaml.node.type"),Ue=n=>!!n&&typeof n=="object"&&n[Se]===yn,Ke=n=>!!n&&typeof n=="object"&&n[Se]===on,tt=n=>!!n&&typeof n=="object"&&n[Se]===Re,le=n=>!!n&&typeof n=="object"&&n[Se]===is,ae=n=>!!n&&typeof n=="object"&&n[Se]===Te,nt=n=>!!n&&typeof n=="object"&&n[Se]===et;function ce(n){if(n&&typeof n=="object")switch(n[Se]){case Re:case et:return!0}return!1}function fe(n){if(n&&typeof n=="object")switch(n[Se]){case yn:case Re:case Te:case et:return!0}return!1}const Wi=n=>(ae(n)||ce(n))&&!!n.anchor,we=Symbol("break visit"),rs=Symbol("skip children"),Ne=Symbol("remove node");function ze(n,t){const e=as(t);Ke(n)?Ve(null,n.contents,e,Object.freeze([n]))===Ne&&(n.contents=null):Ve(null,n,e,Object.freeze([]))}ze.BREAK=we;ze.SKIP=rs;ze.REMOVE=Ne;function Ve(n,t,e,s){const i=os(n,t,e,s);if(fe(i)||le(i))return ls(n,s,i),Ve(n,i,e,s);if(typeof i!="symbol"){if(ce(t)){s=Object.freeze(s.concat(t));for(let r=0;r<t.items.length;++r){const a=Ve(r,t.items[r],e,s);if(typeof a=="number")r=a-1;else{if(a===we)return we;a===Ne&&(t.items.splice(r,1),r-=1)}}}else if(le(t)){s=Object.freeze(s.concat(t));const r=Ve("key",t.key,e,s);if(r===we)return we;r===Ne&&(t.key=null);const a=Ve("value",t.value,e,s);if(a===we)return we;a===Ne&&(t.value=null)}}return i}async function Pt(n,t){const e=as(t);Ke(n)?await Ge(null,n.contents,e,Object.freeze([n]))===Ne&&(n.contents=null):await Ge(null,n,e,Object.freeze([]))}Pt.BREAK=we;Pt.SKIP=rs;Pt.REMOVE=Ne;async function Ge(n,t,e,s){const i=await os(n,t,e,s);if(fe(i)||le(i))return ls(n,s,i),Ge(n,i,e,s);if(typeof i!="symbol"){if(ce(t)){s=Object.freeze(s.concat(t));for(let r=0;r<t.items.length;++r){const a=await Ge(r,t.items[r],e,s);if(typeof a=="number")r=a-1;else{if(a===we)return we;a===Ne&&(t.items.splice(r,1),r-=1)}}}else if(le(t)){s=Object.freeze(s.concat(t));const r=await Ge("key",t.key,e,s);if(r===we)return we;r===Ne&&(t.key=null);const a=await Ge("value",t.value,e,s);if(a===we)return we;a===Ne&&(t.value=null)}}return i}function as(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function os(n,t,e,s){var i,r,a,o,l;if(typeof e=="function")return e(n,t,s);if(tt(t))return(i=e.Map)==null?void 0:i.call(e,n,t,s);if(nt(t))return(r=e.Seq)==null?void 0:r.call(e,n,t,s);if(le(t))return(a=e.Pair)==null?void 0:a.call(e,n,t,s);if(ae(t))return(o=e.Scalar)==null?void 0:o.call(e,n,t,s);if(Ue(t))return(l=e.Alias)==null?void 0:l.call(e,n,t,s)}function ls(n,t,e){const s=t[t.length-1];if(ce(s))s.items[n]=e;else if(le(s))n==="key"?s.key=e:s.value=e;else if(Ke(s))s.contents=e;else{const i=Ue(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Vi={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Gi=n=>n.replace(/[!,[\]{}]/g,t=>Vi[t]);class be{constructor(t,e){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},be.defaultYaml,t),this.tags=Object.assign({},be.defaultTags,e)}clone(){const t=new be(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new be(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:be.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},be.defaultTags);break}return t}add(t,e){this.atNextDocument&&(this.yaml={explicit:be.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},be.defaultTags),this.atNextDocument=!1);const s=t.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(e(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,a]=s;return this.tags[r]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return e(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const a=/^\d+\.\d+$/.test(r);return e(6,`Unsupported YAML version ${r}`,a),!1}}default:return e(0,`Unknown directive ${i}`,!0),!1}}tagName(t,e){if(t==="!")return"!";if(t[0]!=="!")return e(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const a=t.slice(2,-1);return a==="!"||a==="!!"?(e(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&e("Verbatim tags must end with a >"),a)}const[,s,i]=t.match(/^(.*!)([^!]*)$/s);i||e(`The ${t} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(a){return e(String(a)),null}return s==="!"?t:(e(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[e,s]of Object.entries(this.tags))if(t.startsWith(s))return e+Gi(t.substring(s.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const e=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(t&&s.length>0&&fe(t.contents)){const r={};ze(t.contents,(a,o)=>{fe(o)&&o.tag&&(r[o.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,a]of s)r==="!!"&&a==="tag:yaml.org,2002:"||(!t||i.some(o=>o.startsWith(a)))&&e.push(`%TAG ${r} ${a}`);return e.join(`
`)}}be.defaultYaml={explicit:!1,version:"1.2"};be.defaultTags={"!!":"tag:yaml.org,2002:"};function cs(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(e)}return!0}function fs(n){const t=new Set;return ze(n,{Value(e,s){s.anchor&&t.add(s.anchor)}}),t}function us(n,t){for(let e=1;;++e){const s=`${n}${e}`;if(!t.has(s))return s}}function Zi(n,t){const e=[],s=new Map;let i=null;return{onAnchor:r=>{e.push(r),i||(i=fs(n));const a=us(t,i);return i.add(a),a},setAnchors:()=>{for(const r of e){const a=s.get(r);if(typeof a=="object"&&a.anchor&&(ae(a.node)||ce(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=r,o}}},sourceObjects:s}}function Ze(n,t,e,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const a=s[i],o=Ze(n,s,String(i),a);o===void 0?delete s[i]:o!==a&&(s[i]=o)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),a=Ze(n,s,i,r);a===void 0?s.delete(i):a!==r&&s.set(i,a)}else if(s instanceof Set)for(const i of Array.from(s)){const r=Ze(n,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const a=Ze(n,s,i,r);a===void 0?delete s[i]:a!==r&&(s[i]=a)}return n.call(t,e,s)}function ve(n,t,e){if(Array.isArray(n))return n.map((s,i)=>ve(s,String(i),e));if(n&&typeof n.toJSON=="function"){if(!e||!Wi(n))return n.toJSON(t,e);const s={aliasCount:0,count:1,res:void 0};e.anchors.set(n,s),e.onCreate=r=>{s.res=r,delete e.onCreate};const i=n.toJSON(t,e);return e.onCreate&&e.onCreate(i),i}return typeof n=="bigint"&&!(e!=null&&e.keep)?Number(n):n}class bn{constructor(t){Object.defineProperty(this,Se,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:e,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!Ke(t))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:t,keep:!0,mapAsMap:e===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},o=ve(this,"",a);if(typeof i=="function")for(const{count:l,res:h}of a.anchors.values())i(h,l);return typeof r=="function"?Ze(r,{"":o},"",o):o}}class jt extends bn{constructor(t){super(yn),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return ze(t,{Node:(s,i)=>{if(i===this)return ze.BREAK;i.anchor===this.source&&(e=i)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=e,a=this.resolve(i);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let o=s.get(a);if(o||(ve(a,null,e),o=s.get(a)),!o||o.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=It(i,a,s)),o.count*o.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(t,e,s){const i=`*${this.source}`;if(t){if(cs(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(t.implicitKey)return`${i} `}return i}}function It(n,t,e){if(Ue(t)){const s=t.resolve(n),i=e&&s&&e.get(s);return i?i.count*i.aliasCount:0}else if(ce(t)){let s=0;for(const i of t.items){const r=It(n,i,e);r>s&&(s=r)}return s}else if(le(t)){const s=It(n,t.key,e),i=It(n,t.value,e);return Math.max(s,i)}return 1}const hs=n=>!n||typeof n!="function"&&typeof n!="object";class X extends bn{constructor(t){super(Te),this.value=t}toJSON(t,e){return e!=null&&e.keep?this.value:ve(this.value,t,e)}toString(){return String(this.value)}}X.BLOCK_FOLDED="BLOCK_FOLDED";X.BLOCK_LITERAL="BLOCK_LITERAL";X.PLAIN="PLAIN";X.QUOTE_DOUBLE="QUOTE_DOUBLE";X.QUOTE_SINGLE="QUOTE_SINGLE";const Hi="tag:yaml.org,2002:";function Yi(n,t,e){if(t){const s=e.filter(r=>r.tag===t),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return e.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,n))&&!s.format})}function ht(n,t,e){var m,g,u;if(Ke(n)&&(n=n.contents),fe(n))return n;if(le(n)){const b=(g=(m=e.schema[Re]).createNode)==null?void 0:g.call(m,e.schema,null,e);return b.items.push(n),b}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:a,sourceObjects:o}=e;let l;if(s&&n&&typeof n=="object"){if(l=o.get(n),l)return l.anchor||(l.anchor=i(n)),new jt(l.anchor);l={anchor:null,node:null},o.set(n,l)}t!=null&&t.startsWith("!!")&&(t=Hi+t.slice(2));let h=Yi(n,t,a.tags);if(!h){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const b=new X(n);return l&&(l.node=b),b}h=n instanceof Map?a[Re]:Symbol.iterator in Object(n)?a[et]:a[Re]}r&&(r(h),delete e.onTagObj);const w=h!=null&&h.createNode?h.createNode(e.schema,n,e):typeof((u=h==null?void 0:h.nodeClass)==null?void 0:u.from)=="function"?h.nodeClass.from(e.schema,n,e):new X(n);return t?w.tag=t:h.default||(w.tag=h.tag),l&&(l.node=w),w}function Bt(n,t,e){let s=e;for(let i=t.length-1;i>=0;--i){const r=t[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const a=[];a[r]=s,s=a}else s=new Map([[r,s]])}return ht(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const ft=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class ds extends bn{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map(s=>fe(s)||le(s)?s.clone(t):s),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if(ft(t))this.add(e);else{const[s,...i]=t,r=this.get(s,!0);if(ce(r))r.addIn(i,e);else if(r===void 0&&this.schema)this.set(s,Bt(this.schema,i,e));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(t){const[e,...s]=t;if(s.length===0)return this.delete(e);const i=this.get(e,!0);if(ce(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${s}`)}getIn(t,e){const[s,...i]=t,r=this.get(s,!0);return i.length===0?!e&&ae(r)?r.value:r:ce(r)?r.getIn(i,e):void 0}hasAllNullValues(t){return this.items.every(e=>{if(!le(e))return!1;const s=e.value;return s==null||t&&ae(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(t){const[e,...s]=t;if(s.length===0)return this.has(e);const i=this.get(e,!0);return ce(i)?i.hasIn(s):!1}setIn(t,e){const[s,...i]=t;if(i.length===0)this.set(s,e);else{const r=this.get(s,!0);if(ce(r))r.setIn(i,e);else if(r===void 0&&this.schema)this.set(s,Bt(this.schema,i,e));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}const Ji=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function xe(n,t){return/^\n+$/.test(n)?n.substring(1):t?n.replace(/^(?! *$)/gm,t):n}const je=(n,t,e)=>n.endsWith(`
`)?xe(e,t):e.includes(`
`)?`
`+xe(e,t):(n.endsWith(" ")?"":" ")+e,ps="flow",ln="block",Nt="quoted";function Ft(n,t,e="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:a,onOverflow:o}={}){if(!i||i<0)return n;i<r&&(r=0);const l=Math.max(1+r,1+i-t.length);if(n.length<=l)return n;const h=[],w={};let m=i-t.length;typeof s=="number"&&(s>i-Math.max(2,r)?h.push(0):m=i-s);let g,u,b=!1,c=-1,d=-1,y=-1;e===ln&&(c=Fn(n,c,t.length),c!==-1&&(m=c+l));for(let S;S=n[c+=1];){if(e===Nt&&S==="\\"){switch(d=c,n[c+1]){case"x":c+=3;break;case"u":c+=5;break;case"U":c+=9;break;default:c+=1}y=c}if(S===`
`)e===ln&&(c=Fn(n,c,t.length)),m=c+t.length+l,g=void 0;else{if(S===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const E=n[c+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(g=c)}if(c>=m)if(g)h.push(g),m=g+l,g=void 0;else if(e===Nt){for(;u===" "||u==="	";)u=S,S=n[c+=1],b=!0;const E=c>y+1?c-2:d-1;if(w[E])return n;h.push(E),w[E]=!0,m=E+l,g=void 0}else b=!0}u=S}if(b&&o&&o(),h.length===0)return n;a&&a();let _=n.slice(0,h[0]);for(let S=0;S<h.length;++S){const E=h[S],O=h[S+1]||n.length;E===0?_=`
${t}${n.slice(0,O)}`:(e===Nt&&w[E]&&(_+=`${n[E]}\\`),_+=`
${t}${n.slice(E+1,O)}`)}return _}function Fn(n,t,e){let s=t,i=t+1,r=n[i];for(;r===" "||r==="	";)if(t<i+e)r=n[++t];else{do r=n[++t];while(r&&r!==`
`);s=t,i=t+1,r=n[i]}return s}const $t=(n,t)=>({indentAtStart:t?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Mt=n=>/^(%|---|\.\.\.)/m.test(n);function Qi(n,t,e){if(!t||t<0)return!1;const s=t-e,i=n.length;if(i<=s)return!1;for(let r=0,a=0;r<i;++r)if(n[r]===`
`){if(r-a>s)return!0;if(a=r+1,i-a<=s)return!1}return!0}function ut(n,t){const e=JSON.stringify(n);if(t.options.doubleQuotedAsJSON)return e;const{implicitKey:s}=t,i=t.options.doubleQuotedMinMultiLineLength,r=t.indent||(Mt(n)?"  ":"");let a="",o=0;for(let l=0,h=e[l];h;h=e[++l])if(h===" "&&e[l+1]==="\\"&&e[l+2]==="n"&&(a+=e.slice(o,l)+"\\ ",l+=1,o=l,h="\\"),h==="\\")switch(e[l+1]){case"u":{a+=e.slice(o,l);const w=e.substr(l+2,4);switch(w){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:w.substr(0,2)==="00"?a+="\\x"+w.substr(2):a+=e.substr(l,6)}l+=5,o=l+1}break;case"n":if(s||e[l+2]==='"'||e.length<i)l+=1;else{for(a+=e.slice(o,l)+`

`;e[l+2]==="\\"&&e[l+3]==="n"&&e[l+4]!=='"';)a+=`
`,l+=2;a+=r,e[l+2]===" "&&(a+="\\"),l+=1,o=l+1}break;default:l+=1}return a=o?a+e.slice(o):e,s?a:Ft(a,r,Nt,$t(t,!1))}function cn(n,t){if(t.options.singleQuote===!1||t.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return ut(n,t);const e=t.indent||(Mt(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${e}`)+"'";return t.implicitKey?s:Ft(s,e,ps,$t(t,!1))}function He(n,t){const{singleQuote:e}=t.options;let s;if(e===!1)s=ut;else{const i=n.includes('"'),r=n.includes("'");i&&!r?s=cn:r&&!i?s=ut:s=e?cn:ut}return s(n,t)}let fn;try{fn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{fn=/\n+(?!\n|$)/g}function Tt({comment:n,type:t,value:e},s,i,r){const{blockQuote:a,commentString:o,lineWidth:l}=s.options;if(!a||/\n[\t ]+$/.test(e)||/^\s*$/.test(e))return He(e,s);const h=s.indent||(s.forceBlockIndent||Mt(e)?"  ":""),w=a==="literal"?!0:a==="folded"||t===X.BLOCK_FOLDED?!1:t===X.BLOCK_LITERAL?!0:!Qi(e,l,h.length);if(!e)return w?`|
`:`>
`;let m,g;for(g=e.length;g>0;--g){const O=e[g-1];if(O!==`
`&&O!=="	"&&O!==" ")break}let u=e.substring(g);const b=u.indexOf(`
`);b===-1?m="-":e===u||b!==u.length-1?(m="+",r&&r()):m="",u&&(e=e.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(fn,`$&${h}`));let c=!1,d,y=-1;for(d=0;d<e.length;++d){const O=e[d];if(O===" ")c=!0;else if(O===`
`)y=d;else break}let _=e.substring(0,y<d?y+1:d);_&&(e=e.substring(_.length),_=_.replace(/\n+/g,`$&${h}`));let E=(c?h?"2":"1":"")+m;if(n&&(E+=" "+o(n.replace(/ ?[\r\n]+/g," ")),i&&i()),!w){const O=e.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);let I=!1;const L=$t(s,!0);a!=="folded"&&t!==X.BLOCK_FOLDED&&(L.onOverflow=()=>{I=!0});const T=Ft(`${_}${O}${u}`,h,ln,L);if(!I)return`>${E}
${h}${T}`}return e=e.replace(/\n+/g,`$&${h}`),`|${E}
${h}${_}${e}${u}`}function Xi(n,t,e,s){const{type:i,value:r}=n,{actualString:a,implicitKey:o,indent:l,indentStep:h,inFlow:w}=t;if(o&&r.includes(`
`)||w&&/[[\]{},]/.test(r))return He(r,t);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return o||w||!r.includes(`
`)?He(r,t):Tt(n,t,e,s);if(!o&&!w&&i!==X.PLAIN&&r.includes(`
`))return Tt(n,t,e,s);if(Mt(r)){if(l==="")return t.forceBlockIndent=!0,Tt(n,t,e,s);if(o&&l===h)return He(r,t)}const m=r.replace(/\n+/g,`$&
${l}`);if(a){const g=c=>{var d;return c.default&&c.tag!=="tag:yaml.org,2002:str"&&((d=c.test)==null?void 0:d.test(m))},{compat:u,tags:b}=t.doc.schema;if(b.some(g)||u!=null&&u.some(g))return He(r,t)}return o?m:Ft(m,l,ps,$t(t,!1))}function gt(n,t,e,s){const{implicitKey:i,inFlow:r}=t,a=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:o}=n;o!==X.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=X.QUOTE_DOUBLE);const l=w=>{switch(w){case X.BLOCK_FOLDED:case X.BLOCK_LITERAL:return i||r?He(a.value,t):Tt(a,t,e,s);case X.QUOTE_DOUBLE:return ut(a.value,t);case X.QUOTE_SINGLE:return cn(a.value,t);case X.PLAIN:return Xi(a,t,e,s);default:return null}};let h=l(o);if(h===null){const{defaultKeyType:w,defaultStringType:m}=t.options,g=i&&w||m;if(h=l(g),h===null)throw new Error(`Unsupported default string type ${g}`)}return h}function ms(n,t){const e=Object.assign({blockQuote:!0,commentString:Ji,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,t);let s;switch(e.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:e.flowCollectionPadding?" ":"",indent:"",indentStep:typeof e.indent=="number"?" ".repeat(e.indent):"  ",inFlow:s,options:e}}function er(n,t){var i;if(t.tag){const r=n.filter(a=>a.tag===t.tag);if(r.length>0)return r.find(a=>a.format===t.format)??r[0]}let e,s;if(ae(t)){s=t.value;let r=n.filter(a=>{var o;return(o=a.identify)==null?void 0:o.call(a,s)});if(r.length>1){const a=r.filter(o=>o.test);a.length>0&&(r=a)}e=r.find(a=>a.format===t.format)??r.find(a=>!a.format)}else s=t,e=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!e){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return e}function tr(n,t,{anchors:e,doc:s}){if(!s.directives)return"";const i=[],r=(ae(n)||ce(n))&&n.anchor;r&&cs(r)&&(e.add(r),i.push(`&${r}`));const a=n.tag?n.tag:t.default?null:t.tag;return a&&i.push(s.directives.tagString(a)),i.join(" ")}function Qe(n,t,e,s){var l;if(le(n))return n.toString(t,e,s);if(Ue(n)){if(t.doc.directives)return n.toString(t);if((l=t.resolvedAliases)!=null&&l.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(n):t.resolvedAliases=new Set([n]),n=n.resolve(t.doc)}let i;const r=fe(n)?n:t.doc.createNode(n,{onTagObj:h=>i=h});i||(i=er(t.doc.schema.tags,r));const a=tr(r,i,t);a.length>0&&(t.indentAtStart=(t.indentAtStart??0)+a.length+1);const o=typeof i.stringify=="function"?i.stringify(r,t,e,s):ae(r)?gt(r,t,e,s):r.toString(t,e,s);return a?ae(r)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${t.indent}${o}`:o}function nr({key:n,value:t},e,s,i){const{allNullValues:r,doc:a,indent:o,indentStep:l,options:{commentString:h,indentSeq:w,simpleKeys:m}}=e;let g=fe(n)&&n.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(ce(n)||!fe(n)&&typeof n=="object"){const L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let u=!m&&(!n||g&&t==null&&!e.inFlow||ce(n)||(ae(n)?n.type===X.BLOCK_FOLDED||n.type===X.BLOCK_LITERAL:typeof n=="object"));e=Object.assign({},e,{allNullValues:!1,implicitKey:!u&&(m||!r),indent:o+l});let b=!1,c=!1,d=Qe(n,e,()=>b=!0,()=>c=!0);if(!u&&!e.inFlow&&d.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(e.inFlow){if(r||t==null)return b&&s&&s(),d===""?"?":u?`? ${d}`:d}else if(r&&!m||t==null&&u)return d=`? ${d}`,g&&!b?d+=je(d,e.indent,h(g)):c&&i&&i(),d;b&&(g=null),u?(g&&(d+=je(d,e.indent,h(g))),d=`? ${d}
${o}:`):(d=`${d}:`,g&&(d+=je(d,e.indent,h(g))));let y,_,S;fe(t)?(y=!!t.spaceBefore,_=t.commentBefore,S=t.comment):(y=!1,_=null,S=null,t&&typeof t=="object"&&(t=a.createNode(t))),e.implicitKey=!1,!u&&!g&&ae(t)&&(e.indentAtStart=d.length+1),c=!1,!w&&l.length>=2&&!e.inFlow&&!u&&nt(t)&&!t.flow&&!t.tag&&!t.anchor&&(e.indent=e.indent.substring(2));let E=!1;const O=Qe(t,e,()=>E=!0,()=>c=!0);let I=" ";if(g||y||_){if(I=y?`
`:"",_){const L=h(_);I+=`
${xe(L,e.indent)}`}O===""&&!e.inFlow?I===`
`&&(I=`

`):I+=`
${e.indent}`}else if(!u&&ce(t)){const L=O[0],T=O.indexOf(`
`),B=T!==-1,M=e.inFlow??t.flow??t.items.length===0;if(B||!M){let H=!1;if(B&&(L==="&"||L==="!")){let A=O.indexOf(" ");L==="&"&&A!==-1&&A<T&&O[A+1]==="!"&&(A=O.indexOf(" ",A+1)),(A===-1||T<A)&&(H=!0)}H||(I=`
${e.indent}`)}}else(O===""||O[0]===`
`)&&(I="");return d+=I+O,e.inFlow?E&&s&&s():S&&!E?d+=je(d,e.indent,h(S)):c&&i&&i(),d}function gs(n,t){(n==="debug"||n==="warn")&&console.warn(t)}const vt="<<",Be={identify:n=>n===vt||typeof n=="symbol"&&n.description===vt,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new X(Symbol(vt)),{addToJSMap:ys}),stringify:()=>vt},sr=(n,t)=>(Be.identify(t)||ae(t)&&(!t.type||t.type===X.PLAIN)&&Be.identify(t.value))&&(n==null?void 0:n.doc.schema.tags.some(e=>e.tag===Be.tag&&e.default));function ys(n,t,e){if(e=n&&Ue(e)?e.resolve(n.doc):e,nt(e))for(const s of e.items)Qt(n,t,s);else if(Array.isArray(e))for(const s of e)Qt(n,t,s);else Qt(n,t,e)}function Qt(n,t,e){const s=n&&Ue(e)?e.resolve(n.doc):e;if(!tt(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,n,Map);for(const[r,a]of i)t instanceof Map?t.has(r)||t.set(r,a):t instanceof Set?t.add(r):Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{value:a,writable:!0,enumerable:!0,configurable:!0});return t}function bs(n,t,{key:e,value:s}){if(fe(e)&&e.addToJSMap)e.addToJSMap(n,t,s);else if(sr(n,e))ys(n,t,s);else{const i=ve(e,"",n);if(t instanceof Map)t.set(i,ve(s,i,n));else if(t instanceof Set)t.add(i);else{const r=ir(e,i,n),a=ve(s,r,n);r in t?Object.defineProperty(t,r,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[r]=a}}return t}function ir(n,t,e){if(t===null)return"";if(typeof t!="object")return String(t);if(fe(n)&&(e!=null&&e.doc)){const s=ms(e.doc,{});s.anchors=new Set;for(const r of e.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=n.toString(s);if(!e.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),gs(e.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),e.mapKeyWarned=!0}return i}return JSON.stringify(t)}function wn(n,t,e){const s=ht(n,void 0,e),i=ht(t,void 0,e);return new ye(s,i)}class ye{constructor(t,e=null){Object.defineProperty(this,Se,{value:is}),this.key=t,this.value=e}clone(t){let{key:e,value:s}=this;return fe(e)&&(e=e.clone(t)),fe(s)&&(s=s.clone(t)),new ye(e,s)}toJSON(t,e){const s=e!=null&&e.mapAsMap?new Map:{};return bs(e,s,this)}toString(t,e,s){return t!=null&&t.doc?nr(this,t,e,s):JSON.stringify(this)}}function ws(n,t,e){return(t.inFlow??n.flow?ar:rr)(n,t,e)}function rr({comment:n,items:t},e,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:a,onComment:o}){const{indent:l,options:{commentString:h}}=e,w=Object.assign({},e,{indent:r,type:null});let m=!1;const g=[];for(let b=0;b<t.length;++b){const c=t[b];let d=null;if(fe(c))!m&&c.spaceBefore&&g.push(""),Rt(e,g,c.commentBefore,m),c.comment&&(d=c.comment);else if(le(c)){const _=fe(c.key)?c.key:null;_&&(!m&&_.spaceBefore&&g.push(""),Rt(e,g,_.commentBefore,m))}m=!1;let y=Qe(c,w,()=>d=null,()=>m=!0);d&&(y+=je(y,r,h(d))),m&&d&&(m=!1),g.push(s+y)}let u;if(g.length===0)u=i.start+i.end;else{u=g[0];for(let b=1;b<g.length;++b){const c=g[b];u+=c?`
${l}${c}`:`
`}}return n?(u+=`
`+xe(h(n),l),o&&o()):m&&a&&a(),u}function ar({items:n},t,{flowChars:e,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:a,options:{commentString:o}}=t;s+=r;const l=Object.assign({},t,{indent:s,inFlow:!0,type:null});let h=!1,w=0;const m=[];for(let b=0;b<n.length;++b){const c=n[b];let d=null;if(fe(c))c.spaceBefore&&m.push(""),Rt(t,m,c.commentBefore,!1),c.comment&&(d=c.comment);else if(le(c)){const _=fe(c.key)?c.key:null;_&&(_.spaceBefore&&m.push(""),Rt(t,m,_.commentBefore,!1),_.comment&&(h=!0));const S=fe(c.value)?c.value:null;S?(S.comment&&(d=S.comment),S.commentBefore&&(h=!0)):c.value==null&&(_!=null&&_.comment)&&(d=_.comment)}d&&(h=!0);let y=Qe(c,l,()=>d=null);b<n.length-1&&(y+=","),d&&(y+=je(y,s,o(d))),!h&&(m.length>w||y.includes(`
`))&&(h=!0),m.push(y),w=m.length}const{start:g,end:u}=e;if(m.length===0)return g+u;if(!h){const b=m.reduce((c,d)=>c+d.length+2,2);h=t.options.lineWidth>0&&b>t.options.lineWidth}if(h){let b=g;for(const c of m)b+=c?`
${r}${i}${c}`:`
`;return`${b}
${i}${u}`}else return`${g}${a}${m.join(" ")}${a}${u}`}function Rt({indent:n,options:{commentString:t}},e,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=xe(t(s),n);e.push(r.trimStart())}}function Fe(n,t){const e=ae(t)?t.value:t;for(const s of n)if(le(s)&&(s.key===t||s.key===e||ae(s.key)&&s.key.value===e))return s}class _e extends ds{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Re,t),this.items=[]}static from(t,e,s){const{keepUndefined:i,replacer:r}=s,a=new this(t),o=(l,h)=>{if(typeof r=="function")h=r.call(e,l,h);else if(Array.isArray(r)&&!r.includes(l))return;(h!==void 0||i)&&a.items.push(wn(l,h,s))};if(e instanceof Map)for(const[l,h]of e)o(l,h);else if(e&&typeof e=="object")for(const l of Object.keys(e))o(l,e[l]);return typeof t.sortMapEntries=="function"&&a.items.sort(t.sortMapEntries),a}add(t,e){var a;let s;le(t)?s=t:!t||typeof t!="object"||!("key"in t)?s=new ye(t,t==null?void 0:t.value):s=new ye(t.key,t.value);const i=Fe(this.items,s.key),r=(a=this.schema)==null?void 0:a.sortMapEntries;if(i){if(!e)throw new Error(`Key ${s.key} already set`);ae(i.value)&&hs(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const o=this.items.findIndex(l=>r(s,l)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(t){const e=Fe(this.items,t);return e?this.items.splice(this.items.indexOf(e),1).length>0:!1}get(t,e){const s=Fe(this.items,t),i=s==null?void 0:s.value;return(!e&&ae(i)?i.value:i)??void 0}has(t){return!!Fe(this.items,t)}set(t,e){this.add(new ye(t,e),!0)}toJSON(t,e,s){const i=s?new s:e!=null&&e.mapAsMap?new Map:{};e!=null&&e.onCreate&&e.onCreate(i);for(const r of this.items)bs(e,i,r);return i}toString(t,e,s){if(!t)return JSON.stringify(this);for(const i of this.items)if(!le(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),ws(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:s,onComment:e})}}const st={collection:"map",default:!0,nodeClass:_e,tag:"tag:yaml.org,2002:map",resolve(n,t){return tt(n)||t("Expected a mapping for this tag"),n},createNode:(n,t,e)=>_e.from(n,t,e)};class De extends ds{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(et,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=St(t);return typeof e!="number"?!1:this.items.splice(e,1).length>0}get(t,e){const s=St(t);if(typeof s!="number")return;const i=this.items[s];return!e&&ae(i)?i.value:i}has(t){const e=St(t);return typeof e=="number"&&e<this.items.length}set(t,e){const s=St(t);if(typeof s!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[s];ae(i)&&hs(e)?i.value=e:this.items[s]=e}toJSON(t,e){const s=[];e!=null&&e.onCreate&&e.onCreate(s);let i=0;for(const r of this.items)s.push(ve(r,String(i++),e));return s}toString(t,e,s){return t?ws(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:s,onComment:e}):JSON.stringify(this)}static from(t,e,s){const{replacer:i}=s,r=new this(t);if(e&&Symbol.iterator in Object(e)){let a=0;for(let o of e){if(typeof i=="function"){const l=e instanceof Set?o:String(a++);o=i.call(e,l,o)}r.items.push(ht(o,void 0,s))}}return r}}function St(n){let t=ae(n)?n.value:n;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const it={collection:"seq",default:!0,nodeClass:De,tag:"tag:yaml.org,2002:seq",resolve(n,t){return nt(n)||t("Expected a sequence for this tag"),n},createNode:(n,t,e)=>De.from(n,t,e)},Ut={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,t,e,s){return t=Object.assign({actualString:!0},t),gt(n,t,e,s)}},Kt={identify:n=>n==null,createNode:()=>new X(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new X(null),stringify:({source:n},t)=>typeof n=="string"&&Kt.test.test(n)?n:t.options.nullStr},_n={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new X(n[0]==="t"||n[0]==="T"),stringify({source:n,value:t},e){if(n&&_n.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(t===s)return n}return t?e.options.trueStr:e.options.falseStr}};function Oe({format:n,minFractionDigits:t,tag:e,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!n&&t&&(!e||e==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let a=r.indexOf(".");a<0&&(a=r.length,r+=".");let o=t-(r.length-a-1);for(;o-- >0;)r+="0"}return r}const _s={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Oe},ks={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const t=Number(n.value);return isFinite(t)?t.toExponential():Oe(n)}},vs={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const t=new X(parseFloat(n)),e=n.indexOf(".");return e!==-1&&n[n.length-1]==="0"&&(t.minFractionDigits=n.length-e-1),t},stringify:Oe},qt=n=>typeof n=="bigint"||Number.isInteger(n),kn=(n,t,e,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(t),e);function Ss(n,t,e){const{value:s}=n;return qt(s)&&s>=0?e+s.toString(t):Oe(n)}const As={identify:n=>qt(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,t,e)=>kn(n,2,8,e),stringify:n=>Ss(n,8,"0o")},Es={identify:qt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,t,e)=>kn(n,0,10,e),stringify:Oe},Os={identify:n=>qt(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,t,e)=>kn(n,2,16,e),stringify:n=>Ss(n,16,"0x")},or=[st,it,Ut,Kt,_n,As,Es,Os,_s,ks,vs];function $n(n){return typeof n=="bigint"||Number.isInteger(n)}const At=({value:n})=>JSON.stringify(n),lr=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:At},{identify:n=>n==null,createNode:()=>new X(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:At},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:n=>n==="true",stringify:At},{identify:$n,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,t,{intAsBigInt:e})=>e?BigInt(n):parseInt(n,10),stringify:({value:n})=>$n(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:At}],cr={default:!0,tag:"",test:/^/,resolve(n,t){return t(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},fr=[st,it].concat(lr,cr),vn={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,t){if(typeof atob=="function"){const e=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(e.length);for(let i=0;i<e.length;++i)s[i]=e.charCodeAt(i);return s}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:t,value:e},s,i,r){const a=e;let o;if(typeof btoa=="function"){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=X.BLOCK_LITERAL),t!==X.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),h=Math.ceil(o.length/l),w=new Array(h);for(let m=0,g=0;m<h;++m,g+=l)w[m]=o.substr(g,l);o=w.join(t===X.BLOCK_LITERAL?`
`:" ")}return gt({comment:n,type:t,value:o},s,i,r)}};function Cs(n,t){if(nt(n))for(let e=0;e<n.items.length;++e){let s=n.items[e];if(!le(s)){if(tt(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const i=s.items[0]||new ye(new X(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}n.items[e]=le(s)?s:new ye(s)}}else t("Expected a sequence for this tag");return n}function Is(n,t,e){const{replacer:s}=e,i=new De(n);i.tag="tag:yaml.org,2002:pairs";let r=0;if(t&&Symbol.iterator in Object(t))for(let a of t){typeof s=="function"&&(a=s.call(t,String(r++),a));let o,l;if(Array.isArray(a))if(a.length===2)o=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const h=Object.keys(a);if(h.length===1)o=h[0],l=a[o];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else o=a;i.items.push(wn(o,l,e))}return i}const Sn={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Cs,createNode:Is};class Ye extends De{constructor(){super(),this.add=_e.prototype.add.bind(this),this.delete=_e.prototype.delete.bind(this),this.get=_e.prototype.get.bind(this),this.has=_e.prototype.has.bind(this),this.set=_e.prototype.set.bind(this),this.tag=Ye.tag}toJSON(t,e){if(!e)return super.toJSON(t);const s=new Map;e!=null&&e.onCreate&&e.onCreate(s);for(const i of this.items){let r,a;if(le(i)?(r=ve(i.key,"",e),a=ve(i.value,r,e)):r=ve(i,"",e),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,a)}return s}static from(t,e,s){const i=Is(t,e,s),r=new this;return r.items=i.items,r}}Ye.tag="tag:yaml.org,2002:omap";const An={collection:"seq",identify:n=>n instanceof Map,nodeClass:Ye,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,t){const e=Cs(n,t),s=[];for(const{key:i}of e.items)ae(i)&&(s.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new Ye,e)},createNode:(n,t,e)=>Ye.from(n,t,e)};function Ns({value:n,source:t},e){return t&&(n?Ts:Ls).test.test(t)?t:n?e.options.trueStr:e.options.falseStr}const Ts={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new X(!0),stringify:Ns},Ls={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new X(!1),stringify:Ns},ur={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Oe},hr={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const t=Number(n.value);return isFinite(t)?t.toExponential():Oe(n)}},dr={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const t=new X(parseFloat(n.replace(/_/g,""))),e=n.indexOf(".");if(e!==-1){const s=n.substring(e+1).replace(/_/g,"");s[s.length-1]==="0"&&(t.minFractionDigits=s.length)}return t},stringify:Oe},yt=n=>typeof n=="bigint"||Number.isInteger(n);function Wt(n,t,e,{intAsBigInt:s}){const i=n[0];if((i==="-"||i==="+")&&(t+=1),n=n.substring(t).replace(/_/g,""),s){switch(e){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const a=BigInt(n);return i==="-"?BigInt(-1)*a:a}const r=parseInt(n,e);return i==="-"?-1*r:r}function En(n,t,e){const{value:s}=n;if(yt(s)){const i=s.toString(t);return s<0?"-"+e+i.substr(1):e+i}return Oe(n)}const pr={identify:yt,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,t,e)=>Wt(n,2,2,e),stringify:n=>En(n,2,"0b")},mr={identify:yt,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,t,e)=>Wt(n,1,8,e),stringify:n=>En(n,8,"0")},gr={identify:yt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,t,e)=>Wt(n,0,10,e),stringify:Oe},yr={identify:yt,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,t,e)=>Wt(n,2,16,e),stringify:n=>En(n,16,"0x")};class Je extends _e{constructor(t){super(t),this.tag=Je.tag}add(t){let e;le(t)?e=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?e=new ye(t.key,null):e=new ye(t,null),Fe(this.items,e.key)||this.items.push(e)}get(t,e){const s=Fe(this.items,t);return!e&&le(s)?ae(s.key)?s.key.value:s.key:s}set(t,e){if(typeof e!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof e}`);const s=Fe(this.items,t);s&&!e?this.items.splice(this.items.indexOf(s),1):!s&&e&&this.items.push(new ye(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,s){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,s);throw new Error("Set items must all have null values")}static from(t,e,s){const{replacer:i}=s,r=new this(t);if(e&&Symbol.iterator in Object(e))for(let a of e)typeof i=="function"&&(a=i.call(e,a,a)),r.items.push(wn(a,null,s));return r}}Je.tag="tag:yaml.org,2002:set";const On={collection:"map",identify:n=>n instanceof Set,nodeClass:Je,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,t,e)=>Je.from(n,t,e),resolve(n,t){if(tt(n)){if(n.hasAllNullValues(!0))return Object.assign(new Je,n);t("Set items must all have null values")}else t("Expected a mapping for this tag");return n}};function Cn(n,t){const e=n[0],s=e==="-"||e==="+"?n.substring(1):n,i=a=>t?BigInt(a):Number(a),r=s.replace(/_/g,"").split(":").reduce((a,o)=>a*i(60)+i(o),i(0));return e==="-"?i(-1)*r:r}function xs(n){let{value:t}=n,e=a=>a;if(typeof t=="bigint")e=a=>BigInt(a);else if(isNaN(t)||!isFinite(t))return Oe(n);let s="";t<0&&(s="-",t*=e(-1));const i=e(60),r=[t%i];return t<60?r.unshift(0):(t=(t-r[0])/i,r.unshift(t%i),t>=60&&(t=(t-r[0])/i,r.unshift(t))),s+r.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Bs={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,t,{intAsBigInt:e})=>Cn(n,e),stringify:xs},Rs={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>Cn(n,!1),stringify:xs},Vt={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const t=n.match(Vt.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,e,s,i,r,a,o]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(e,s-1,i,r||0,a||0,o||0,l);const w=t[8];if(w&&w!=="Z"){let m=Cn(w,!1);Math.abs(m)<30&&(m*=60),h-=6e4*m}return new Date(h)},stringify:({value:n})=>n.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},Mn=[st,it,Ut,Kt,Ts,Ls,pr,mr,gr,yr,ur,hr,dr,vn,Be,An,Sn,On,Bs,Rs,Vt],Un=new Map([["core",or],["failsafe",[st,it,Ut]],["json",fr],["yaml11",Mn],["yaml-1.1",Mn]]),Kn={binary:vn,bool:_n,float:vs,floatExp:ks,floatNaN:_s,floatTime:Rs,int:Es,intHex:Os,intOct:As,intTime:Bs,map:st,merge:Be,null:Kt,omap:An,pairs:Sn,seq:it,set:On,timestamp:Vt},br={"tag:yaml.org,2002:binary":vn,"tag:yaml.org,2002:merge":Be,"tag:yaml.org,2002:omap":An,"tag:yaml.org,2002:pairs":Sn,"tag:yaml.org,2002:set":On,"tag:yaml.org,2002:timestamp":Vt};function Xt(n,t,e){const s=Un.get(t);if(s&&!n)return e&&!s.includes(Be)?s.concat(Be):s.slice();let i=s;if(!i)if(Array.isArray(n))i=[];else{const r=Array.from(Un.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(n))for(const r of n)i=i.concat(r);else typeof n=="function"&&(i=n(i.slice()));return e&&(i=i.concat(Be)),i.reduce((r,a)=>{const o=typeof a=="string"?Kn[a]:a;if(!o){const l=JSON.stringify(a),h=Object.keys(Kn).map(w=>JSON.stringify(w)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${h}`)}return r.includes(o)||r.push(o),r},[])}const wr=(n,t)=>n.key<t.key?-1:n.key>t.key?1:0;class Gt{constructor({compat:t,customTags:e,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(t)?Xt(t,"compat"):t?Xt(null,t):null,this.name=typeof r=="string"&&r||"core",this.knownTags=i?br:{},this.tags=Xt(e,this.name,s),this.toStringOptions=o??null,Object.defineProperty(this,Re,{value:st}),Object.defineProperty(this,Te,{value:Ut}),Object.defineProperty(this,et,{value:it}),this.sortMapEntries=typeof a=="function"?a:a===!0?wr:null}clone(){const t=Object.create(Gt.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function _r(n,t){var l;const e=[];let s=t.directives===!0;if(t.directives!==!1&&n.directives){const h=n.directives.toString(n);h?(e.push(h),s=!0):n.directives.docStart&&(s=!0)}s&&e.push("---");const i=ms(n,t),{commentString:r}=i.options;if(n.commentBefore){e.length!==1&&e.unshift("");const h=r(n.commentBefore);e.unshift(xe(h,""))}let a=!1,o=null;if(n.contents){if(fe(n.contents)){if(n.contents.spaceBefore&&s&&e.push(""),n.contents.commentBefore){const m=r(n.contents.commentBefore);e.push(xe(m,""))}i.forceBlockIndent=!!n.comment,o=n.contents.comment}const h=o?void 0:()=>a=!0;let w=Qe(n.contents,i,()=>o=null,h);o&&(w+=je(w,"",r(o))),(w[0]==="|"||w[0]===">")&&e[e.length-1]==="---"?e[e.length-1]=`--- ${w}`:e.push(w)}else e.push(Qe(n.contents,i));if((l=n.directives)!=null&&l.docEnd)if(n.comment){const h=r(n.comment);h.includes(`
`)?(e.push("..."),e.push(xe(h,""))):e.push(`... ${h}`)}else e.push("...");else{let h=n.comment;h&&a&&(h=h.replace(/^\n+/,"")),h&&((!a||o)&&e[e.length-1]!==""&&e.push(""),e.push(xe(r(h),"")))}return e.join(`
`)+`
`}class rt{constructor(t,e,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Se,{value:on});let i=null;typeof e=="function"||Array.isArray(e)?i=e:s===void 0&&e&&(s=e,e=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:a}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new be({version:a}),this.setSchema(a,s),this.contents=t===void 0?null:this.createNode(t,i,s)}clone(){const t=Object.create(rt.prototype,{[Se]:{value:on}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=fe(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){qe(this.contents)&&this.contents.add(t)}addIn(t,e){qe(this.contents)&&this.contents.addIn(t,e)}createAlias(t,e){if(!t.anchor){const s=fs(this);t.anchor=!e||s.has(e)?us(e||"a",s):e}return new jt(t.anchor)}createNode(t,e,s){let i;if(typeof e=="function")t=e.call({"":t},"",t),i=e;else if(Array.isArray(e)){const d=_=>typeof _=="number"||_ instanceof String||_ instanceof Number,y=e.filter(d).map(String);y.length>0&&(e=e.concat(y)),i=e}else s===void 0&&e&&(s=e,e=void 0);const{aliasDuplicateObjects:r,anchorPrefix:a,flow:o,keepUndefined:l,onTagObj:h,tag:w}=s??{},{onAnchor:m,setAnchors:g,sourceObjects:u}=Zi(this,a||"a"),b={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:m,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:u},c=ht(t,w,b);return o&&ce(c)&&(c.flow=!0),g(),c}createPair(t,e,s={}){const i=this.createNode(t,null,s),r=this.createNode(e,null,s);return new ye(i,r)}delete(t){return qe(this.contents)?this.contents.delete(t):!1}deleteIn(t){return ft(t)?this.contents==null?!1:(this.contents=null,!0):qe(this.contents)?this.contents.deleteIn(t):!1}get(t,e){return ce(this.contents)?this.contents.get(t,e):void 0}getIn(t,e){return ft(t)?!e&&ae(this.contents)?this.contents.value:this.contents:ce(this.contents)?this.contents.getIn(t,e):void 0}has(t){return ce(this.contents)?this.contents.has(t):!1}hasIn(t){return ft(t)?this.contents!==void 0:ce(this.contents)?this.contents.hasIn(t):!1}set(t,e){this.contents==null?this.contents=Bt(this.schema,[t],e):qe(this.contents)&&this.contents.set(t,e)}setIn(t,e){ft(t)?this.contents=e:this.contents==null?this.contents=Bt(this.schema,Array.from(t),e):qe(this.contents)&&this.contents.setIn(t,e)}setSchema(t,e={}){typeof t=="number"&&(t=String(t));let s;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new be({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new be({version:t}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(e.schema instanceof Object)this.schema=e.schema;else if(s)this.schema=new Gt(Object.assign(s,e));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:e,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!t,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=ve(this.contents,e??"",o);if(typeof r=="function")for(const{count:h,res:w}of o.anchors.values())r(w,h);return typeof a=="function"?Ze(a,{"":l},"",l):l}toJSON(t,e){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:e})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const e=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${e}`)}return _r(this,t)}}function qe(n){if(ce(n))return!0;throw new Error("Expected a YAML collection as document contents")}class In extends Error{constructor(t,e,s,i){super(),this.name=t,this.code=s,this.message=i,this.pos=e}}class $e extends In{constructor(t,e,s){super("YAMLParseError",t,e,s)}}class zs extends In{constructor(t,e,s){super("YAMLWarning",t,e,s)}}const zt=(n,t)=>e=>{if(e.pos[0]===-1)return;e.linePos=e.pos.map(o=>t.linePos(o));const{line:s,col:i}=e.linePos[0];e.message+=` at line ${s}, column ${i}`;let r=i-1,a=n.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&a.length>80){const o=Math.min(r-39,a.length-79);a=""+a.substring(o),r-=o-1}if(a.length>80&&(a=a.substring(0,79)+""),s>1&&/^ *$/.test(a.substring(0,r))){let o=n.substring(t.lineStarts[s-2],t.lineStarts[s-1]);o.length>80&&(o=o.substring(0,79)+`
`),a=o+a}if(/[^ ]/.test(a)){let o=1;const l=e.linePos[1];l&&l.line===s&&l.col>i&&(o=Math.max(1,Math.min(l.col-i,80-r)));const h=" ".repeat(r)+"^".repeat(o);e.message+=`:

${a}
${h}
`}};function Xe(n,{flow:t,indicator:e,next:s,offset:i,onError:r,parentIndent:a,startOnNewline:o}){let l=!1,h=o,w=o,m="",g="",u=!1,b=!1,c=null,d=null,y=null,_=null,S=null,E=null,O=null;for(const T of n)switch(b&&(T.type!=="space"&&T.type!=="newline"&&T.type!=="comma"&&r(T.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),c&&(h&&T.type!=="comment"&&T.type!=="newline"&&r(c,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=null),T.type){case"space":!t&&(e!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&T.source.includes("	")&&(c=T),w=!0;break;case"comment":{w||r(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const B=T.source.substring(1)||" ";m?m+=g+B:m=B,g="",h=!1;break}case"newline":h?m?m+=T.source:(!E||e!=="seq-item-ind")&&(l=!0):g+=T.source,h=!0,u=!0,(d||y)&&(_=T),w=!0;break;case"anchor":d&&r(T,"MULTIPLE_ANCHORS","A node can have at most one anchor"),T.source.endsWith(":")&&r(T.offset+T.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),d=T,O===null&&(O=T.offset),h=!1,w=!1,b=!0;break;case"tag":{y&&r(T,"MULTIPLE_TAGS","A node can have at most one tag"),y=T,O===null&&(O=T.offset),h=!1,w=!1,b=!0;break}case e:(d||y)&&r(T,"BAD_PROP_ORDER",`Anchors and tags must be after the ${T.source} indicator`),E&&r(T,"UNEXPECTED_TOKEN",`Unexpected ${T.source} in ${t??"collection"}`),E=T,h=e==="seq-item-ind"||e==="explicit-key-ind",w=!1;break;case"comma":if(t){S&&r(T,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),S=T,h=!1,w=!1;break}default:r(T,"UNEXPECTED_TOKEN",`Unexpected ${T.type} token`),h=!1,w=!1}const I=n[n.length-1],L=I?I.offset+I.source.length:i;return b&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),c&&(h&&c.indent<=a||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&r(c,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:S,found:E,spaceBefore:l,comment:m,hasNewline:u,anchor:d,tag:y,newlineAfterProp:_,end:L,start:O??L}}function dt(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
`))return!0;if(n.end){for(const t of n.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of n.items){for(const e of t.start)if(e.type==="newline")return!0;if(t.sep){for(const e of t.sep)if(e.type==="newline")return!0}if(dt(t.key)||dt(t.value))return!0}return!1;default:return!0}}function un(n,t,e){if((t==null?void 0:t.type)==="flow-collection"){const s=t.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&dt(t)&&e(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ds(n,t,e){const{uniqueKeys:s}=n.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,a)=>r===a||ae(r)&&ae(a)&&r.value===a.value;return t.some(r=>i(r.key,e))}const qn="All mapping items must start at the same column";function kr({composeNode:n,composeEmptyNode:t},e,s,i,r){var w;const a=(r==null?void 0:r.nodeClass)??_e,o=new a(e.schema);e.atRoot&&(e.atRoot=!1);let l=s.offset,h=null;for(const m of s.items){const{start:g,key:u,sep:b,value:c}=m,d=Xe(g,{indicator:"explicit-key-ind",next:u??(b==null?void 0:b[0]),offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0}),y=!d.found;if(y){if(u&&(u.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&i(l,"BAD_INDENT",qn)),!d.anchor&&!d.tag&&!b){h=d.end,d.comment&&(o.comment?o.comment+=`
`+d.comment:o.comment=d.comment);continue}(d.newlineAfterProp||dt(u))&&i(u??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((w=d.found)==null?void 0:w.indent)!==s.indent&&i(l,"BAD_INDENT",qn);e.atKey=!0;const _=d.end,S=u?n(e,u,d,i):t(e,_,g,null,d,i);e.schema.compat&&un(s.indent,u,i),e.atKey=!1,Ds(e,o.items,S)&&i(_,"DUPLICATE_KEY","Map keys must be unique");const E=Xe(b??[],{indicator:"map-value-ind",next:c,offset:S.range[2],onError:i,parentIndent:s.indent,startOnNewline:!u||u.type==="block-scalar"});if(l=E.end,E.found){y&&((c==null?void 0:c.type)==="block-map"&&!E.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),e.options.strict&&d.start<E.found.offset-1024&&i(S.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const O=c?n(e,c,E,i):t(e,l,b,null,E,i);e.schema.compat&&un(s.indent,c,i),l=O.range[2];const I=new ye(S,O);e.options.keepSourceTokens&&(I.srcToken=m),o.items.push(I)}else{y&&i(S.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(S.comment?S.comment+=`
`+E.comment:S.comment=E.comment);const O=new ye(S);e.options.keepSourceTokens&&(O.srcToken=m),o.items.push(O)}}return h&&h<l&&i(h,"IMPOSSIBLE","Map comment with trailing content"),o.range=[s.offset,l,h??l],o}function vr({composeNode:n,composeEmptyNode:t},e,s,i,r){const a=(r==null?void 0:r.nodeClass)??De,o=new a(e.schema);e.atRoot&&(e.atRoot=!1),e.atKey&&(e.atKey=!1);let l=s.offset,h=null;for(const{start:w,value:m}of s.items){const g=Xe(w,{indicator:"seq-item-ind",next:m,offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||m)m&&m.type==="block-seq"?i(g.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{h=g.end,g.comment&&(o.comment=g.comment);continue}const u=m?n(e,m,g,i):t(e,g.end,w,null,g,i);e.schema.compat&&un(s.indent,m,i),l=u.range[2],o.items.push(u)}return o.range=[s.offset,l,h??l],o}function bt(n,t,e,s){let i="";if(n){let r=!1,a="";for(const o of n){const{source:l,type:h}=o;switch(h){case"space":r=!0;break;case"comment":{e&&!r&&s(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const w=l.substring(1)||" ";i?i+=a+w:i=w,a="";break}case"newline":i&&(a+=l),r=!0;break;default:s(o,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=l.length}}return{comment:i,offset:t}}const en="Block collections are not allowed within flow collections",tn=n=>n&&(n.type==="block-map"||n.type==="block-seq");function Sr({composeNode:n,composeEmptyNode:t},e,s,i,r){const a=s.start.source==="{",o=a?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(a?_e:De),h=new l(e.schema);h.flow=!0;const w=e.atRoot;w&&(e.atRoot=!1),e.atKey&&(e.atKey=!1);let m=s.offset+s.start.source.length;for(let d=0;d<s.items.length;++d){const y=s.items[d],{start:_,key:S,sep:E,value:O}=y,I=Xe(_,{flow:o,indicator:"explicit-key-ind",next:S??(E==null?void 0:E[0]),offset:m,onError:i,parentIndent:s.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!E&&!O){d===0&&I.comma?i(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):d<s.items.length-1&&i(I.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),I.comment&&(h.comment?h.comment+=`
`+I.comment:h.comment=I.comment),m=I.end;continue}!a&&e.options.strict&&dt(S)&&i(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(d===0)I.comma&&i(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(I.comma||i(I.start,"MISSING_CHAR",`Missing , between ${o} items`),I.comment){let L="";e:for(const T of _)switch(T.type){case"comma":case"space":break;case"comment":L=T.source.substring(1);break e;default:break e}if(L){let T=h.items[h.items.length-1];le(T)&&(T=T.value??T.key),T.comment?T.comment+=`
`+L:T.comment=L,I.comment=I.comment.substring(L.length+1)}}if(!a&&!E&&!I.found){const L=O?n(e,O,I,i):t(e,I.end,E,null,I,i);h.items.push(L),m=L.range[2],tn(O)&&i(L.range,"BLOCK_IN_FLOW",en)}else{e.atKey=!0;const L=I.end,T=S?n(e,S,I,i):t(e,L,_,null,I,i);tn(S)&&i(T.range,"BLOCK_IN_FLOW",en),e.atKey=!1;const B=Xe(E??[],{flow:o,indicator:"map-value-ind",next:O,offset:T.range[2],onError:i,parentIndent:s.indent,startOnNewline:!1});if(B.found){if(!a&&!I.found&&e.options.strict){if(E)for(const A of E){if(A===B.found)break;if(A.type==="newline"){i(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<B.found.offset-1024&&i(B.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else O&&("source"in O&&O.source&&O.source[0]===":"?i(O,"MISSING_CHAR",`Missing space after : in ${o}`):i(B.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const M=O?n(e,O,B,i):B.found?t(e,B.end,E,null,B,i):null;M?tn(O)&&i(M.range,"BLOCK_IN_FLOW",en):B.comment&&(T.comment?T.comment+=`
`+B.comment:T.comment=B.comment);const H=new ye(T,M);if(e.options.keepSourceTokens&&(H.srcToken=y),a){const A=h;Ds(e,A.items,T)&&i(L,"DUPLICATE_KEY","Map keys must be unique"),A.items.push(H)}else{const A=new _e(e.schema);A.flow=!0,A.items.push(H);const D=(M??T).range;A.range=[T.range[0],D[1],D[2]],h.items.push(A)}m=M?M.range[2]:B.end}}const g=a?"}":"]",[u,...b]=s.end;let c=m;if(u&&u.source===g)c=u.offset+u.source.length;else{const d=o[0].toUpperCase()+o.substring(1),y=w?`${d} must end with a ${g}`:`${d} in block collection must be sufficiently indented and end with a ${g}`;i(m,w?"MISSING_CHAR":"BAD_INDENT",y),u&&u.source.length!==1&&b.unshift(u)}if(b.length>0){const d=bt(b,c,e.options.strict,i);d.comment&&(h.comment?h.comment+=`
`+d.comment:h.comment=d.comment),h.range=[s.offset,c,d.offset]}else h.range=[s.offset,c,c];return h}function nn(n,t,e,s,i,r){const a=e.type==="block-map"?kr(n,t,e,s,r):e.type==="block-seq"?vr(n,t,e,s,r):Sr(n,t,e,s,r),o=a.constructor;return i==="!"||i===o.tagName?(a.tag=o.tagName,a):(i&&(a.tag=i),a)}function Ar(n,t,e,s,i){var g;const r=s.tag,a=r?t.directives.tagName(r.source,u=>i(r,"TAG_RESOLVE_FAILED",u)):null;if(e.type==="block-seq"){const{anchor:u,newlineAfterProp:b}=s,c=u&&r?u.offset>r.offset?u:r:u??r;c&&(!b||b.offset<c.offset)&&i(c,"MISSING_CHAR","Missing newline after block sequence props")}const o=e.type==="block-map"?"map":e.type==="block-seq"?"seq":e.start.source==="{"?"map":"seq";if(!r||!a||a==="!"||a===_e.tagName&&o==="map"||a===De.tagName&&o==="seq")return nn(n,t,e,i,a);let l=t.schema.tags.find(u=>u.tag===a&&u.collection===o);if(!l){const u=t.schema.knownTags[a];if(u&&u.collection===o)t.schema.tags.push(Object.assign({},u,{default:!1})),l=u;else return u!=null&&u.collection?i(r,"BAD_COLLECTION_TYPE",`${u.tag} used for ${o} collection, but expects ${u.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),nn(n,t,e,i,a)}const h=nn(n,t,e,i,a,l),w=((g=l.resolve)==null?void 0:g.call(l,h,u=>i(r,"TAG_RESOLVE_FAILED",u),t.options))??h,m=fe(w)?w:new X(w);return m.range=h.range,m.tag=a,l!=null&&l.format&&(m.format=l.format),m}function Ps(n,t,e){const s=t.offset,i=Er(t,n.options.strict,e);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?X.BLOCK_FOLDED:X.BLOCK_LITERAL,a=t.source?Or(t.source):[];let o=a.length;for(let c=a.length-1;c>=0;--c){const d=a[c][1];if(d===""||d==="\r")o=c;else break}if(o===0){const c=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let d=s+i.length;return t.source&&(d+=t.source.length),{value:c,type:r,comment:i.comment,range:[s,d,d]}}let l=t.indent+i.indent,h=t.offset+i.length,w=0;for(let c=0;c<o;++c){const[d,y]=a[c];if(y===""||y==="\r")i.indent===0&&d.length>l&&(l=d.length);else{d.length<l&&e(h+d.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=d.length),w=c,l===0&&!n.atRoot&&e(h,"BAD_INDENT","Block scalar values in collections must be indented");break}h+=d.length+y.length+1}for(let c=a.length-1;c>=o;--c)a[c][0].length>l&&(o=c+1);let m="",g="",u=!1;for(let c=0;c<w;++c)m+=a[c][0].slice(l)+`
`;for(let c=w;c<o;++c){let[d,y]=a[c];h+=d.length+y.length+1;const _=y[y.length-1]==="\r";if(_&&(y=y.slice(0,-1)),y&&d.length<l){const E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;e(h-y.length-(_?2:1),"BAD_INDENT",E),d=""}r===X.BLOCK_LITERAL?(m+=g+d.slice(l)+y,g=`
`):d.length>l||y[0]==="	"?(g===" "?g=`
`:!u&&g===`
`&&(g=`

`),m+=g+d.slice(l)+y,g=`
`,u=!0):y===""?g===`
`?m+=`
`:g=`
`:(m+=g+y,g=" ",u=!1)}switch(i.chomp){case"-":break;case"+":for(let c=o;c<a.length;++c)m+=`
`+a[c][0].slice(l);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}const b=s+i.length+t.source.length;return{value:m,type:r,comment:i.comment,range:[s,b,b]}}function Er({offset:n,props:t},e,s){if(t[0].type!=="block-scalar-header")return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],r=i[0];let a=0,o="",l=-1;for(let g=1;g<i.length;++g){const u=i[g];if(!o&&(u==="-"||u==="+"))o=u;else{const b=Number(u);!a&&b?a=b:l===-1&&(l=n+g)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,w="",m=i.length;for(let g=1;g<t.length;++g){const u=t[g];switch(u.type){case"space":h=!0;case"newline":m+=u.source.length;break;case"comment":e&&!h&&s(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=u.source.length,w=u.source.substring(1);break;case"error":s(u,"UNEXPECTED_TOKEN",u.message),m+=u.source.length;break;default:{const b=`Unexpected token in block scalar header: ${u.type}`;s(u,"UNEXPECTED_TOKEN",b);const c=u.source;c&&typeof c=="string"&&(m+=c.length)}}}return{mode:r,indent:a,chomp:o,comment:w,length:m}}function Or(n){const t=n.split(/\n( *)/),e=t[0],s=e.match(/^( *)/),r=[s!=null&&s[1]?[s[1],e.slice(s[1].length)]:["",e]];for(let a=1;a<t.length;a+=2)r.push([t[a],t[a+1]]);return r}function js(n,t,e){const{offset:s,type:i,source:r,end:a}=n;let o,l;const h=(g,u,b)=>e(s+g,u,b);switch(i){case"scalar":o=X.PLAIN,l=Cr(r,h);break;case"single-quoted-scalar":o=X.QUOTE_SINGLE,l=Ir(r,h);break;case"double-quoted-scalar":o=X.QUOTE_DOUBLE,l=Nr(r,h);break;default:return e(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const w=s+r.length,m=bt(a,w,t,e);return{value:l,type:o,comment:m.comment,range:[s,w,m.offset]}}function Cr(n,t){let e="";switch(n[0]){case"	":e="a tab character";break;case",":e="flow indicator character ,";break;case"%":e="directive indicator character %";break;case"|":case">":{e=`block scalar indicator ${n[0]}`;break}case"@":case"`":{e=`reserved character ${n[0]}`;break}}return e&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${e}`),Fs(n)}function Ir(n,t){return(n[n.length-1]!=="'"||n.length===1)&&t(n.length,"MISSING_CHAR","Missing closing 'quote"),Fs(n.slice(1,-1)).replace(/''/g,"'")}function Fs(n){let t,e;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),e=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,e=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(n);if(!s)return n;let i=s[1],r=" ",a=t.lastIndex;for(e.lastIndex=a;s=e.exec(n);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),a=e.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,s=o.exec(n),i+r+((s==null?void 0:s[1])??"")}function Nr(n,t){let e="";for(let s=1;s<n.length-1;++s){const i=n[s];if(!(i==="\r"&&n[s+1]===`
`))if(i===`
`){const{fold:r,offset:a}=Tr(n,s);e+=r,s=a}else if(i==="\\"){let r=n[++s];const a=Lr[r];if(a)e+=a;else if(r===`
`)for(r=n[s+1];r===" "||r==="	";)r=n[++s+1];else if(r==="\r"&&n[s+1]===`
`)for(r=n[++s+1];r===" "||r==="	";)r=n[++s+1];else if(r==="x"||r==="u"||r==="U"){const o={x:2,u:4,U:8}[r];e+=xr(n,s+1,o,t),s+=o}else{const o=n.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),e+=o}}else if(i===" "||i==="	"){const r=s;let a=n[s+1];for(;a===" "||a==="	";)a=n[++s+1];a!==`
`&&!(a==="\r"&&n[s+2]===`
`)&&(e+=s>r?n.slice(r,s+1):i)}else e+=i}return(n[n.length-1]!=='"'||n.length===1)&&t(n.length,"MISSING_CHAR",'Missing closing "quote'),e}function Tr(n,t){let e="",s=n[t+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&n[t+2]!==`
`);)s===`
`&&(e+=`
`),t+=1,s=n[t+1];return e||(e=" "),{fold:e,offset:t}}const Lr={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function xr(n,t,e,s){const i=n.substr(t,e),a=i.length===e&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){const o=n.substr(t-2,e+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(a)}function $s(n,t,e,s){const{value:i,type:r,comment:a,range:o}=t.type==="block-scalar"?Ps(n,t,s):js(t,n.options.strict,s),l=e?n.directives.tagName(e.source,m=>s(e,"TAG_RESOLVE_FAILED",m)):null;let h;n.options.stringKeys&&n.atKey?h=n.schema[Te]:l?h=Br(n.schema,i,l,e,s):t.type==="scalar"?h=Rr(n,i,t,s):h=n.schema[Te];let w;try{const m=h.resolve(i,g=>s(e??t,"TAG_RESOLVE_FAILED",g),n.options);w=ae(m)?m:new X(m)}catch(m){const g=m instanceof Error?m.message:String(m);s(e??t,"TAG_RESOLVE_FAILED",g),w=new X(i)}return w.range=o,w.source=i,r&&(w.type=r),l&&(w.tag=l),h.format&&(w.format=h.format),a&&(w.comment=a),w}function Br(n,t,e,s,i){var o;if(e==="!")return n[Te];const r=[];for(const l of n.tags)if(!l.collection&&l.tag===e)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((o=l.test)!=null&&o.test(t))return l;const a=n.knownTags[e];return a&&!a.collection?(n.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${e}`,e!=="tag:yaml.org,2002:str"),n[Te])}function Rr({atKey:n,directives:t,schema:e},s,i,r){const a=e.tags.find(o=>{var l;return(o.default===!0||n&&o.default==="key")&&((l=o.test)==null?void 0:l.test(s))})||e[Te];if(e.compat){const o=e.compat.find(l=>{var h;return l.default&&((h=l.test)==null?void 0:h.test(s))})??e[Te];if(a.tag!==o.tag){const l=t.tagString(a.tag),h=t.tagString(o.tag),w=`Value may be parsed as either ${l} or ${h}`;r(i,"TAG_RESOLVE_FAILED",w,!0)}}return a}function zr(n,t,e){if(t){e===null&&(e=t.length);for(let s=e-1;s>=0;--s){let i=t[s];switch(i.type){case"space":case"comment":case"newline":n-=i.source.length;continue}for(i=t[++s];(i==null?void 0:i.type)==="space";)n+=i.source.length,i=t[++s];break}}return n}const Dr={composeNode:Ms,composeEmptyNode:Nn};function Ms(n,t,e,s){const i=n.atKey,{spaceBefore:r,comment:a,anchor:o,tag:l}=e;let h,w=!0;switch(t.type){case"alias":h=Pr(n,t,s),(o||l)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=$s(n,t,l,s),o&&(h.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=Ar(Dr,n,t,e,s),o&&(h.anchor=o.source.substring(1));break;default:{const m=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;s(t,"UNEXPECTED_TOKEN",m),h=Nn(n,t.offset,void 0,null,e,s),w=!1}}return o&&h.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&n.options.stringKeys&&(!ae(h)||typeof h.value!="string"||h.tag&&h.tag!=="tag:yaml.org,2002:str")&&s(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),r&&(h.spaceBefore=!0),a&&(t.type==="scalar"&&t.source===""?h.comment=a:h.commentBefore=a),n.options.keepSourceTokens&&w&&(h.srcToken=t),h}function Nn(n,t,e,s,{spaceBefore:i,comment:r,anchor:a,tag:o,end:l},h){const w={type:"scalar",offset:zr(t,e,s),indent:-1,source:""},m=$s(n,w,o,h);return a&&(m.anchor=a.source.substring(1),m.anchor===""&&h(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(m.spaceBefore=!0),r&&(m.comment=r,m.range[2]=l),m}function Pr({options:n},{offset:t,source:e,end:s},i){const r=new jt(e.substring(1));r.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(t+e.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=t+e.length,o=bt(s,a,n.strict,i);return r.range=[t,a,o.offset],o.comment&&(r.comment=o.comment),r}function jr(n,t,{offset:e,start:s,value:i,end:r},a){const o=Object.assign({_directives:t},n),l=new rt(void 0,o),h={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},w=Xe(s,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:e,onError:a,parentIndent:0,startOnNewline:!0});w.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!w.hasNewline&&a(w.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?Ms(h,i,w,a):Nn(h,w.end,s,null,w,a);const m=l.contents.range[2],g=bt(r,m,!1,a);return g.comment&&(l.comment=g.comment),l.range=[e,m,g.offset],l}function ct(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];const{offset:t,source:e}=n;return[t,t+(typeof e=="string"?e.length:1)]}function Wn(n){var i;let t="",e=!1,s=!1;for(let r=0;r<n.length;++r){const a=n[r];switch(a[0]){case"#":t+=(t===""?"":s?`

`:`
`)+(a.substring(1)||" "),e=!0,s=!1;break;case"%":((i=n[r+1])==null?void 0:i[0])!=="#"&&(r+=1),e=!1;break;default:e||(s=!0),e=!1}}return{comment:t,afterEmptyLine:s}}class Tn{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,s,i,r)=>{const a=ct(e);r?this.warnings.push(new zs(a,s,i)):this.errors.push(new $e(a,s,i))},this.directives=new be({version:t.version||"1.2"}),this.options=t}decorate(t,e){const{comment:s,afterEmptyLine:i}=Wn(this.prelude);if(s){const r=t.contents;if(e)t.comment=t.comment?`${t.comment}
${s}`:s;else if(i||t.directives.docStart||!r)t.commentBefore=s;else if(ce(r)&&!r.flow&&r.items.length>0){let a=r.items[0];le(a)&&(a=a.key);const o=a.commentBefore;a.commentBefore=o?`${s}
${o}`:s}else{const a=r.commentBefore;r.commentBefore=a?`${s}
${a}`:s}}e?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Wn(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,e=!1,s=-1){for(const i of t)yield*this.next(i);yield*this.end(e,s)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(e,s,i)=>{const r=ct(t);r[0]+=e,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const e=jr(this.options,this.directives,t,this.onError);this.atDirectives&&!e.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(e,!1),this.doc&&(yield this.doc),this.doc=e,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const e=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,s=new $e(ct(t),"UNEXPECTED_TOKEN",e);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new $e(ct(t),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const e=bt(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),e.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${e.comment}`:e.comment}this.doc.range[2]=e.offset;break}default:this.errors.push(new $e(ct(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,e=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const s=Object.assign({_directives:this.directives},this.options),i=new rt(void 0,s);this.atDirectives&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,e,e],this.decorate(i,!1),yield i}}}function Fr(n,t=!0,e){if(n){const s=(i,r,a)=>{const o=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(e)e(o,r,a);else throw new $e([o,o+1],r,a)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return js(n,t,s);case"block-scalar":return Ps({options:{strict:t}},n,s)}}return null}function $r(n,t){const{implicitKey:e=!1,indent:s,inFlow:i=!1,offset:r=-1,type:a="PLAIN"}=t,o=gt({type:a,value:n},{implicitKey:e,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(o[0]){case"|":case">":{const h=o.indexOf(`
`),w=o.substring(0,h),m=o.substring(h+1)+`
`,g=[{type:"block-scalar-header",offset:r,indent:s,source:w}];return Us(g,l)||g.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:g,source:m}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:o,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:o,end:l};default:return{type:"scalar",offset:r,indent:s,source:o,end:l}}}function Mr(n,t,e={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:a}=e,o="indent"in n?n.indent:null;if(s&&typeof o=="number"&&(o+=2),!a)switch(n.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const h=n.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const l=gt({type:a,value:t},{implicitKey:i||o===null,indent:o!==null&&o>0?" ".repeat(o):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Ur(n,l);break;case'"':sn(n,l,"double-quoted-scalar");break;case"'":sn(n,l,"single-quoted-scalar");break;default:sn(n,l,"scalar")}}function Ur(n,t){const e=t.indexOf(`
`),s=t.substring(0,e),i=t.substring(e+1)+`
`;if(n.type==="block-scalar"){const r=n.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,n.source=i}else{const{offset:r}=n,a="indent"in n?n.indent:-1,o=[{type:"block-scalar-header",offset:r,indent:a,source:s}];Us(o,"end"in n?n.end:void 0)||o.push({type:"newline",offset:-1,indent:a,source:`
`});for(const l of Object.keys(n))l!=="type"&&l!=="offset"&&delete n[l];Object.assign(n,{type:"block-scalar",indent:a,props:o,source:i})}}function Us(n,t){if(t)for(const e of t)switch(e.type){case"space":case"comment":n.push(e);break;case"newline":return n.push(e),!0}return!1}function sn(n,t,e){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=e,n.source=t;break;case"block-scalar":{const s=n.props.slice(1);let i=t.length;n.props[0].type==="block-scalar-header"&&(i-=n.props[0].source.length);for(const r of s)r.offset+=i;delete n.props,Object.assign(n,{type:e,source:t,end:s});break}case"block-map":case"block-seq":{const i={type:"newline",offset:n.offset+t.length,indent:n.indent,source:`
`};delete n.items,Object.assign(n,{type:e,source:t,end:[i]});break}default:{const s="indent"in n?n.indent:-1,i="end"in n&&Array.isArray(n.end)?n.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(n))r!=="type"&&r!=="offset"&&delete n[r];Object.assign(n,{type:e,indent:s,source:t,end:i})}}}const Kr=n=>"type"in n?Dt(n):Lt(n);function Dt(n){switch(n.type){case"block-scalar":{let t="";for(const e of n.props)t+=Dt(e);return t+n.source}case"block-map":case"block-seq":{let t="";for(const e of n.items)t+=Lt(e);return t}case"flow-collection":{let t=n.start.source;for(const e of n.items)t+=Lt(e);for(const e of n.end)t+=e.source;return t}case"document":{let t=Lt(n);if(n.end)for(const e of n.end)t+=e.source;return t}default:{let t=n.source;if("end"in n&&n.end)for(const e of n.end)t+=e.source;return t}}}function Lt({start:n,key:t,sep:e,value:s}){let i="";for(const r of n)i+=r.source;if(t&&(i+=Dt(t)),e)for(const r of e)i+=r.source;return s&&(i+=Dt(s)),i}const hn=Symbol("break visit"),qr=Symbol("skip children"),Ks=Symbol("remove item");function Me(n,t){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),qs(Object.freeze([]),n,t)}Me.BREAK=hn;Me.SKIP=qr;Me.REMOVE=Ks;Me.itemAtPath=(n,t)=>{let e=n;for(const[s,i]of t){const r=e==null?void 0:e[s];if(r&&"items"in r)e=r.items[i];else return}return e};Me.parentCollection=(n,t)=>{const e=Me.itemAtPath(n,t.slice(0,-1)),s=t[t.length-1][0],i=e==null?void 0:e[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function qs(n,t,e){let s=e(t,n);if(typeof s=="symbol")return s;for(const i of["key","value"]){const r=t[i];if(r&&"items"in r){for(let a=0;a<r.items.length;++a){const o=qs(Object.freeze(n.concat([[i,a]])),r.items[a],e);if(typeof o=="number")a=o-1;else{if(o===hn)return hn;o===Ks&&(r.items.splice(a,1),a-=1)}}typeof s=="function"&&i==="key"&&(s=s(t,n))}}return typeof s=="function"?s(t,n):s}const Zt="\uFEFF",Ht="",Yt="",pt="",Wr=n=>!!n&&"items"in n,Vr=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Gr(n){switch(n){case Zt:return"<BOM>";case Ht:return"<DOC>";case Yt:return"<FLOW_END>";case pt:return"<SCALAR>";default:return JSON.stringify(n)}}function Ws(n){switch(n){case Zt:return"byte-order-mark";case Ht:return"doc-mode";case Yt:return"flow-error-end";case pt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Zr=Object.freeze(Object.defineProperty({__proto__:null,BOM:Zt,DOCUMENT:Ht,FLOW_END:Yt,SCALAR:pt,createScalarToken:$r,isCollection:Wr,isScalar:Vr,prettyToken:Gr,resolveAsScalar:Fr,setScalarValue:Mr,stringify:Kr,tokenType:Ws,visit:Me},Symbol.toStringTag,{value:"Module"}));function Ee(n){switch(n){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Vn=new Set("0123456789ABCDEFabcdef"),Hr=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Et=new Set(",[]{}"),Yr=new Set(` ,[]{}
\r	`),rn=n=>!n||Yr.has(n);class Vs{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,e=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!e;let s=this.next??"stream";for(;s&&(e||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let t=this.pos,e=this.buffer[t];for(;e===" "||e==="	";)e=this.buffer[++t];return!e||e==="#"||e===`
`?!0:e==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let e=this.buffer[t];if(this.indentNext>0){let s=0;for(;e===" ";)e=this.buffer[++s+t];if(e==="\r"){const i=this.buffer[s+t+1];if(i===`
`||!i&&!this.atEnd)return t+s+1}return e===`
`||s>=this.indentNext||!e&&!this.atEnd?t+s:-1}if(e==="-"||e==="."){const s=this.buffer.substr(t,3);if((s==="---"||s==="...")&&Ee(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Zt&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let e=t.length,s=t.indexOf("#");for(;s!==-1;){const r=t[s-1];if(r===" "||r==="	"){e=s-1;break}else s=t.indexOf("#",s+1)}for(;;){const r=t[e-1];if(r===" "||r==="	")e-=1;else break}const i=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-e),yield*this.pushNewline(),"stream"}return yield Ht,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if((e==="---"||e==="...")&&Ee(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,e==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ee(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,e]=this.peek(2);if(!e&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Ee(e)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let e=yield*this.pushIndicators();switch(t[e]){case"#":yield*this.pushCount(t.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(rn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=yield*this.parseBlockScalarHeader(),e+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,e,s=-1;do t=yield*this.pushNewline(),t>0?(e=yield*this.pushSpaces(!1),this.indentValue=s=e):e=0,e+=yield*this.pushSpaces(!0);while(t+e>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&Ee(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Yt,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(rn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||Ee(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let e=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;e!==-1&&this.buffer[e+1]==="'";)e=this.buffer.indexOf("'",e+2);else for(;e!==-1;){let r=0;for(;this.buffer[e-1-r]==="\\";)r+=1;if(r%2===0)break;e=this.buffer.indexOf('"',e+1)}const s=this.buffer.substring(0,e);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(e=i-(s[i-1]==="\r"?2:1))}if(e===-1){if(!this.atEnd)return this.setNext("quoted-scalar");e=this.buffer.length}return yield*this.pushToIndex(e+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const e=this.buffer[++t];if(e==="+")this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if(e!=="-")break}return yield*this.pushUntil(e=>Ee(e)||e==="#")}*parseBlockScalar(){let t=this.pos-1,e=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":e+=1;break;case`
`:t=r,e=0;break;case"\r":{const a=this.buffer[r+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(e>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=e:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(t+1);if(r===-1)break;t=this.buffer.indexOf(`
`,r)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(s=this.buffer[i];s===" ";)s=this.buffer[++i];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let r=t-1,a=this.buffer[r];a==="\r"&&(a=this.buffer[--r]);const o=r;for(;a===" ";)a=this.buffer[--r];if(a===`
`&&r>=this.pos&&r+1+e>o)t=r;else break}while(!0);return yield pt,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let e=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(Ee(r)||t&&Et.has(r))break;e=s}else if(Ee(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):e=s),r==="#"||t&&Et.has(r))break;if(i===`
`){const a=this.continueScalar(s+1);if(a===-1)break;s=Math.max(s,a-2)}}else{if(t&&Et.has(i))break;e=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield pt,yield*this.pushToIndex(e+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,e){const s=this.buffer.slice(this.pos,t);return s?(yield s,this.pos+=s.length,s.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(rn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,e=this.charAt(1);if(Ee(e)||t&&Et.has(e))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,e=this.buffer[t];for(;!Ee(e)&&e!==">";)e=this.buffer[++t];return yield*this.pushToIndex(e===">"?t+1:t,!1)}else{let t=this.pos+1,e=this.buffer[t];for(;e;)if(Hr.has(e))e=this.buffer[++t];else if(e==="%"&&Vn.has(this.buffer[t+1])&&Vn.has(this.buffer[t+2]))e=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let e=this.pos-1,s;do s=this.buffer[++e];while(s===" "||t&&s==="	");const i=e-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=e),i}*pushUntil(t){let e=this.pos,s=this.buffer[e];for(;!t(s);)s=this.buffer[++e];return yield*this.pushToIndex(e,!1)}}class Gs{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let e=0,s=this.lineStarts.length;for(;e<s;){const r=e+s>>1;this.lineStarts[r]<t?e=r+1:s=r}if(this.lineStarts[e]===t)return{line:e+1,col:1};if(e===0)return{line:0,col:t};const i=this.lineStarts[e-1];return{line:e,col:t-i+1}}}}function Pe(n,t){for(let e=0;e<n.length;++e)if(n[e].type===t)return!0;return!1}function Gn(n){for(let t=0;t<n.length;++t)switch(n[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Zs(n){switch(n==null?void 0:n.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ot(n){switch(n.type){case"document":return n.start;case"block-map":{const t=n.items[n.items.length-1];return t.sep??t.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function We(n){var e;if(n.length===0)return[];let t=n.length;e:for(;--t>=0;)switch(n[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=n[++t])==null?void 0:e.type)==="space";);return n.splice(t,n.length)}function Zn(n){if(n.start.type==="flow-seq-start")for(const t of n.items)t.sep&&!t.value&&!Pe(t.start,"explicit-key-ind")&&!Pe(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Zs(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Ln{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Vs,this.onNewLine=t}*parse(t,e=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(t,e))yield*this.next(s);e||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const e=Ws(t);if(e)if(e==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const s=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const e=t??this.stack.pop();if(!e)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield e;else{const s=this.peek(1);switch(e.type==="block-scalar"?e.indent="indent"in s?s.indent:0:e.type==="flow-collection"&&s.type==="document"&&(e.indent=0),e.type==="flow-collection"&&Zn(e),s.type){case"document":s.value=e;break;case"block-scalar":s.props.push(e);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:e,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=e;else{Object.assign(i,{key:e,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:e}):i.value=e;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:e,sep:[]}):i.sep?i.value=e:Object.assign(i,{key:e,sep:[]});return}default:yield*this.pop(),yield*this.pop(e)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(e.type==="block-map"||e.type==="block-seq")){const i=e.items[e.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Gn(i.start)===-1&&(e.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<e.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),e.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Gn(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const e=this.startBlockValue(t);e?this.stack.push(e):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const e=Ot(this.peek(2)),s=We(e);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const r={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf(`
`)+1;for(;e!==0;)this.onNewLine(this.offset+e),e=this.source.indexOf(`
`,e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var s;const e=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,e.value){const i="end"in e.value?e.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else if(e.sep)e.sep.push(this.sourceToken);else{if(this.atIndentedComment(e.start,t.indent)){const i=t.items[t.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),t.items.pop();return}}e.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,r=i&&(e.sep||e.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(r&&e.sep&&!e.value){const o=[];for(let l=0;l<e.sep.length;++l){const h=e.sep[l];switch(h.type){case"newline":o.push(l);break;case"space":break;case"comment":h.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(a=e.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||e.value?(a.push(this.sourceToken),t.items.push({start:a}),this.onKeyLine=!0):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"explicit-key-ind":!e.sep&&!e.explicitKey?(e.start.push(this.sourceToken),e.explicitKey=!0):r||e.value?(a.push(this.sourceToken),t.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(e.explicitKey)if(e.sep)if(e.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Pe(e.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(Zs(e.key)&&!Pe(e.sep,"newline")){const o=We(e.start),l=e.key,h=e.sep;h.push(this.sourceToken),delete e.key,delete e.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:l,sep:h}]})}else a.length>0?e.sep=e.sep.concat(a,this.sourceToken):e.sep.push(this.sourceToken);else if(Pe(e.start,"newline"))Object.assign(e,{key:null,sep:[this.sourceToken]});else{const o=We(e.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else e.sep?e.value||r?t.items.push({start:a,key:null,sep:[this.sourceToken]}):Pe(e.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);r||e.value?(t.items.push({start:a,key:o,sep:[]}),this.onKeyLine=!0):e.sep?this.stack.push(o):(Object.assign(e,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&t.items.push({start:a}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var s;const e=t.items[t.items.length-1];switch(this.type){case"newline":if(e.value){const i="end"in e.value?e.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(e.start,t.indent)){const i=t.items[t.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),t.items.pop();return}}e.start.push(this.sourceToken)}return;case"anchor":case"tag":if(e.value||this.indent<=t.indent)break;e.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;e.value||Pe(e.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const e=t.items[t.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!e||e.sep?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken);return;case"map-value-ind":!e||e.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!e||e.value?t.items.push({start:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!e||e.value?t.items.push({start:[],key:i,sep:[]}):e.sep?this.stack.push(i):Object.assign(e,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const s=this.startBlockValue(t);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===t.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=Ot(s),r=We(i);Zn(t);const a=t.end.splice(1,t.end.length);a.push(this.sourceToken);const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let e=this.source.indexOf(`
`)+1;for(;e!==0;)this.onNewLine(this.offset+e),e=this.source.indexOf(`
`,e)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const e=Ot(t),s=We(e);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const e=Ot(t),s=We(e);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,e){return this.type!=="comment"||this.indent<=e?!1:t.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Hs(n){const t=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||t&&new Gs||null,prettyErrors:t}}function Jr(n,t={}){const{lineCounter:e,prettyErrors:s}=Hs(t),i=new Ln(e==null?void 0:e.addNewLine),r=new Tn(t),a=Array.from(r.compose(i.parse(n)));if(s&&e)for(const o of a)o.errors.forEach(zt(n,e)),o.warnings.forEach(zt(n,e));return a.length>0?a:Object.assign([],{empty:!0},r.streamInfo())}function Ys(n,t={}){const{lineCounter:e,prettyErrors:s}=Hs(t),i=new Ln(e==null?void 0:e.addNewLine),r=new Tn(t);let a=null;for(const o of r.compose(i.parse(n),!0,n.length))if(!a)a=o;else if(a.options.logLevel!=="silent"){a.errors.push(new $e(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&e&&(a.errors.forEach(zt(n,e)),a.warnings.forEach(zt(n,e))),a}function Qr(n,t,e){let s;typeof t=="function"?s=t:e===void 0&&t&&typeof t=="object"&&(e=t);const i=Ys(n,e);if(!i)return null;if(i.warnings.forEach(r=>gs(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},e))}function Xr(n,t,e){let s=null;if(typeof t=="function"||Array.isArray(t)?s=t:e===void 0&&t&&(e=t),typeof e=="string"&&(e=e.length),typeof e=="number"){const i=Math.round(e);e=i<1?void 0:i>8?{indent:8}:{indent:i}}if(n===void 0){const{keepUndefined:i}=e??t??{};if(!i)return}return Ke(n)&&!s?n.toString(e):new rt(n,s,e).toString(e)}const ea=Object.freeze(Object.defineProperty({__proto__:null,Alias:jt,CST:Zr,Composer:Tn,Document:rt,Lexer:Vs,LineCounter:Gs,Pair:ye,Parser:Ln,Scalar:X,Schema:Gt,YAMLError:In,YAMLMap:_e,YAMLParseError:$e,YAMLSeq:De,YAMLWarning:zs,isAlias:Ue,isCollection:ce,isDocument:Ke,isMap:tt,isNode:fe,isPair:le,isScalar:ae,isSeq:nt,parse:Qr,parseAllDocuments:Jr,parseDocument:Ys,stringify:Xr,visit:ze,visitAsync:Pt},Symbol.toStringTag,{value:"Module"}));function Ct(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var an={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Hn;function ta(){return Hn||(Hn=1,function(n,t){(function(e){n.exports=e()})(function(){return function e(s,i,r){function a(h,w){if(!i[h]){if(!s[h]){var m=typeof Ct=="function"&&Ct;if(!w&&m)return m(h,!0);if(o)return o(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var u=i[h]={exports:{}};s[h][0].call(u.exports,function(b){var c=s[h][1][b];return a(c||b)},u,u.exports,e,s,i,r)}return i[h].exports}for(var o=typeof Ct=="function"&&Ct,l=0;l<r.length;l++)a(r[l]);return a}({1:[function(e,s,i){var r=e("./utils"),a=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var h,w,m,g,u,b,c,d=[],y=0,_=l.length,S=_,E=r.getTypeOf(l)!=="string";y<l.length;)S=_-y,m=E?(h=l[y++],w=y<_?l[y++]:0,y<_?l[y++]:0):(h=l.charCodeAt(y++),w=y<_?l.charCodeAt(y++):0,y<_?l.charCodeAt(y++):0),g=h>>2,u=(3&h)<<4|w>>4,b=1<S?(15&w)<<2|m>>6:64,c=2<S?63&m:64,d.push(o.charAt(g)+o.charAt(u)+o.charAt(b)+o.charAt(c));return d.join("")},i.decode=function(l){var h,w,m,g,u,b,c=0,d=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&S--,l.charAt(l.length-2)===o.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|S):new Array(0|S);c<l.length;)h=o.indexOf(l.charAt(c++))<<2|(g=o.indexOf(l.charAt(c++)))>>4,w=(15&g)<<4|(u=o.indexOf(l.charAt(c++)))>>2,m=(3&u)<<6|(b=o.indexOf(l.charAt(c++))),_[d++]=h,u!==64&&(_[d++]=w),b!==64&&(_[d++]=m);return _}},{"./support":30,"./utils":32}],2:[function(e,s,i){var r=e("./external"),a=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function h(w,m,g,u,b){this.compressedSize=w,this.uncompressedSize=m,this.crc32=g,this.compression=u,this.compressedContent=b}h.prototype={getContentWorker:function(){var w=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return w.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(w,m,g){return w.pipe(new o).pipe(new l("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},s.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,s,i){var r=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,s,i){var r=e("./utils"),a=function(){for(var o,l=[],h=0;h<256;h++){o=h;for(var w=0;w<8;w++)o=1&o?3988292384^o>>>1:o>>>1;l[h]=o}return l}();s.exports=function(o,l){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?function(h,w,m,g){var u=a,b=g+m;h^=-1;for(var c=g;c<b;c++)h=h>>>8^u[255&(h^w[c])];return-1^h}(0|l,o,o.length,0):function(h,w,m,g){var u=a,b=g+m;h^=-1;for(var c=g;c<b;c++)h=h>>>8^u[255&(h^w.charCodeAt(c))];return-1^h}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(e,s,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,s,i){var r=null;r=typeof Promise<"u"?Promise:e("lie"),s.exports={Promise:r}},{lie:37}],7:[function(e,s,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),o=e("./utils"),l=e("./stream/GenericWorker"),h=r?"uint8array":"array";function w(m,g){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",o.inherits(w,l),w.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(h,m.data),!1)},w.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new w("Deflate",m)},i.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,s,i){function r(u,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&u),u>>>=8;return d}function a(u,b,c,d,y,_){var S,E,O=u.file,I=u.compression,L=_!==h.utf8encode,T=o.transformTo("string",_(O.name)),B=o.transformTo("string",h.utf8encode(O.name)),M=O.comment,H=o.transformTo("string",_(M)),A=o.transformTo("string",h.utf8encode(M)),D=B.length!==O.name.length,p=A.length!==M.length,j="",ee="",U="",te=O.dir,K=O.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(Q.crc32=u.crc32,Q.compressedSize=u.compressedSize,Q.uncompressedSize=u.uncompressedSize);var R=0;b&&(R|=8),L||!D&&!p||(R|=2048);var x=0,J=0;te&&(x|=16),y==="UNIX"?(J=798,x|=function(V,ue){var ge=V;return V||(ge=ue?16893:33204),(65535&ge)<<16}(O.unixPermissions,te)):(J=20,x|=function(V){return 63&(V||0)}(O.dosPermissions)),S=K.getUTCHours(),S<<=6,S|=K.getUTCMinutes(),S<<=5,S|=K.getUTCSeconds()/2,E=K.getUTCFullYear()-1980,E<<=4,E|=K.getUTCMonth()+1,E<<=5,E|=K.getUTCDate(),D&&(ee=r(1,1)+r(w(T),4)+B,j+="up"+r(ee.length,2)+ee),p&&(U=r(1,1)+r(w(H),4)+A,j+="uc"+r(U.length,2)+U);var G="";return G+=`
\0`,G+=r(R,2),G+=I.magic,G+=r(S,2),G+=r(E,2),G+=r(Q.crc32,4),G+=r(Q.compressedSize,4),G+=r(Q.uncompressedSize,4),G+=r(T.length,2),G+=r(j.length,2),{fileRecord:m.LOCAL_FILE_HEADER+G+T+j,dirRecord:m.CENTRAL_FILE_HEADER+r(J,2)+G+r(H.length,2)+"\0\0\0\0"+r(x,4)+r(d,4)+T+j+H}}var o=e("../utils"),l=e("../stream/GenericWorker"),h=e("../utf8"),w=e("../crc32"),m=e("../signature");function g(u,b,c,d){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=d,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,l),g.prototype.push=function(u){var b=u.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},g.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var b=this.streamFiles&&!u.file.dir;if(b){var c=a(u,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(u){this.accumulate=!1;var b=this.streamFiles&&!u.file.dir,c=a(u,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:function(d){return m.DATA_DESCRIPTOR+r(d.crc32,4)+r(d.compressedSize,4)+r(d.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var u=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-u,d=function(y,_,S,E,O){var I=o.transformTo("string",O(E));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(y,2)+r(y,2)+r(_,4)+r(S,4)+r(I.length,2)+I}(this.dirRecords.length,c,u,this.zipComment,this.encodeFileName);this.push({data:d,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(u){this._sources.push(u);var b=this;return u.on("data",function(c){b.processChunk(c)}),u.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),u.on("error",function(c){b.error(c)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(u){var b=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var c=0;c<b.length;c++)try{b[c].error(u)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,b=0;b<u.length;b++)u[b].lock()},s.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,s,i){var r=e("../compressions"),a=e("./ZipFileWorker");i.generateWorker=function(o,l,h){var w=new a(l.streamFiles,h,l.platform,l.encodeFileName),m=0;try{o.forEach(function(g,u){m++;var b=function(_,S){var E=_||S,O=r[E];if(!O)throw new Error(E+" is not a valid compression method !");return O}(u.options.compression,l.compression),c=u.options.compressionOptions||l.compressionOptions||{},d=u.dir,y=u.date;u._compressWorker(b,c).withStreamInfo("file",{name:g,dir:d,date:y,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(g){w.error(g)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,s,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(a,o){return new r().loadAsync(a,o)},r.external=e("./external"),s.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,s,i){var r=e("./utils"),a=e("./external"),o=e("./utf8"),l=e("./zipEntries"),h=e("./stream/Crc32Probe"),w=e("./nodejsUtils");function m(g){return new a.Promise(function(u,b){var c=g.decompressed.getContentWorker().pipe(new h);c.on("error",function(d){b(d)}).on("end",function(){c.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}s.exports=function(g,u){var b=this;return u=r.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),w.isNode&&w.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",g,!0,u.optimizedBinaryString,u.base64).then(function(c){var d=new l(u);return d.load(c),d}).then(function(c){var d=[a.Promise.resolve(c)],y=c.files;if(u.checkCRC32)for(var _=0;_<y.length;_++)d.push(m(y[_]));return a.Promise.all(d)}).then(function(c){for(var d=c.shift(),y=d.files,_=0;_<y.length;_++){var S=y[_],E=S.fileNameStr,O=r.resolve(S.fileNameStr);b.file(O,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:u.createFolders}),S.dir||(b.file(O).unsafeOriginalName=E)}return d.zipComment.length&&(b.comment=d.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,s,i){var r=e("../utils"),a=e("../stream/GenericWorker");function o(l,h){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(h)}r.inherits(o,a),o.prototype._bindStream=function(l){var h=this;(this._stream=l).pause(),l.on("data",function(w){h.push({data:w,meta:{percent:0}})}).on("error",function(w){h.isPaused?this.generatedError=w:h.error(w)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,s,i){var r=e("readable-stream").Readable;function a(o,l,h){r.call(this,l),this._helper=o;var w=this;o.on("data",function(m,g){w.push(m)||w._helper.pause(),h&&h(g)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}e("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},s.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,s,i){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(e,s,i){function r(O,I,L){var T,B=o.getTypeOf(I),M=o.extend(L||{},w);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(O=y(O)),M.createFolders&&(T=d(O))&&_.call(this,T,!0);var H=B==="string"&&M.binary===!1&&M.base64===!1;L&&L.binary!==void 0||(M.binary=!H),(I instanceof m&&I.uncompressedSize===0||M.dir||!I||I.length===0)&&(M.base64=!1,M.binary=!0,I="",M.compression="STORE",B="string");var A=null;A=I instanceof m||I instanceof l?I:b.isNode&&b.isStream(I)?new c(O,I):o.prepareContent(O,I,M.binary,M.optimizedBinaryString,M.base64);var D=new g(O,A,M);this.files[O]=D}var a=e("./utf8"),o=e("./utils"),l=e("./stream/GenericWorker"),h=e("./stream/StreamHelper"),w=e("./defaults"),m=e("./compressedObject"),g=e("./zipObject"),u=e("./generate"),b=e("./nodejsUtils"),c=e("./nodejs/NodejsStreamInputAdapter"),d=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var I=O.lastIndexOf("/");return 0<I?O.substring(0,I):""},y=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},_=function(O,I){return I=I!==void 0?I:w.createFolders,O=y(O),this.files[O]||r.call(this,O,null,{dir:!0,createFolders:I}),this.files[O]};function S(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var I,L,T;for(I in this.files)T=this.files[I],(L=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&O(L,T)},filter:function(O){var I=[];return this.forEach(function(L,T){O(L,T)&&I.push(T)}),I},file:function(O,I,L){if(arguments.length!==1)return O=this.root+O,r.call(this,O,I,L),this;if(S(O)){var T=O;return this.filter(function(M,H){return!H.dir&&T.test(M)})}var B=this.files[this.root+O];return B&&!B.dir?B:null},folder:function(O){if(!O)return this;if(S(O))return this.filter(function(B,M){return M.dir&&O.test(B)});var I=this.root+O,L=_.call(this,I),T=this.clone();return T.root=L.name,T},remove:function(O){O=this.root+O;var I=this.files[O];if(I||(O.slice(-1)!=="/"&&(O+="/"),I=this.files[O]),I&&!I.dir)delete this.files[O];else for(var L=this.filter(function(B,M){return M.name.slice(0,O.length)===O}),T=0;T<L.length;T++)delete this.files[L[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var I,L={};try{if((L=o.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");o.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var T=L.comment||this.comment||"";I=u.generateWorker(this,L,T)}catch(B){(I=new l("error")).error(B)}return new h(I,L.type||"string",L.mimeType)},generateAsync:function(O,I){return this.generateInternalStream(O).accumulate(I)},generateNodeStream:function(O,I){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(I)}};s.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,s,i){s.exports=e("stream")},{stream:void 0}],17:[function(e,s,i){var r=e("./DataReader");function a(o){r.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}e("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),h=o.charCodeAt(1),w=o.charCodeAt(2),m=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===h&&this.data[g+2]===w&&this.data[g+3]===m)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),h=o.charCodeAt(1),w=o.charCodeAt(2),m=o.charCodeAt(3),g=this.readData(4);return l===g[0]&&h===g[1]&&w===g[2]&&m===g[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,s,i){var r=e("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,h=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)h=(h<<8)+this.byteAt(l);return this.index+=o,h},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},s.exports=a},{"../utils":32}],19:[function(e,s,i){var r=e("./Uint8ArrayReader");function a(o){r.call(this,o)}e("../utils").inherits(a,r),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,s,i){var r=e("./DataReader");function a(o){r.call(this,o)}e("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,s,i){var r=e("./ArrayReader");function a(o){r.call(this,o)}e("../utils").inherits(a,r),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},s.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,s,i){var r=e("../utils"),a=e("../support"),o=e("./ArrayReader"),l=e("./StringReader"),h=e("./NodeBufferReader"),w=e("./Uint8ArrayReader");s.exports=function(m){var g=r.getTypeOf(m);return r.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new h(m):a.uint8array?new w(r.transformTo("uint8array",m)):new o(r.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,s,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,s,i){var r=e("./GenericWorker"),a=e("../utils");function o(l){r.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,r),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},s.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,s,i){var r=e("./GenericWorker"),a=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},s.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,s,i){var r=e("../utils"),a=e("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(o,a),o.prototype.processChunk=function(l){if(l){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+l.data.length}a.prototype.processChunk.call(this,l)},s.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,s,i){var r=e("../utils"),a=e("./GenericWorker");function o(l){a.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(w){h.dataIsReady=!0,h.data=w,h.max=w&&w.length||0,h.type=r.getTypeOf(w),h.isPaused||h._tickAndRepeat()},function(w){h.error(w)})}r.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,h);break;case"uint8array":l=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":l=this.data.slice(this.index,h)}return this.index=h,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,s,i){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=r},{}],29:[function(e,s,i){var r=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),l=e("../base64"),h=e("../support"),w=e("../external"),m=null;if(h.nodestream)try{m=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,c){return new w.Promise(function(d,y){var _=[],S=b._internalType,E=b._outputType,O=b._mimeType;b.on("data",function(I,L){_.push(I),c&&c(L)}).on("error",function(I){_=[],y(I)}).on("end",function(){try{var I=function(L,T,B){switch(L){case"blob":return r.newBlob(r.transformTo("arraybuffer",T),B);case"base64":return l.encode(T);default:return r.transformTo(L,T)}}(E,function(L,T){var B,M=0,H=null,A=0;for(B=0;B<T.length;B++)A+=T[B].length;switch(L){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(H=new Uint8Array(A),B=0;B<T.length;B++)H.set(T[B],M),M+=T[B].length;return H;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+L+"'")}}(S,_),O);d(I)}catch(L){y(L)}_=[]}).resume()})}function u(b,c,d){var y=c;switch(c){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=c,this._mimeType=d,r.checkSupport(y),this._worker=b.pipe(new a(y)),b.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}u.prototype={accumulate:function(b){return g(this,b)},on:function(b,c){var d=this;return b==="data"?this._worker.on(b,function(y){c.call(d,y.data,y.meta)}):this._worker.on(b,function(){r.delay(c,arguments,d)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},s.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,s,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,s,i){for(var r=e("./utils"),a=e("./support"),o=e("./nodejsUtils"),l=e("./stream/GenericWorker"),h=new Array(256),w=0;w<256;w++)h[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;h[254]=h[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,"utf-8"):function(b){var c,d,y,_,S,E=b.length,O=0;for(_=0;_<E;_++)(64512&(d=b.charCodeAt(_)))==55296&&_+1<E&&(64512&(y=b.charCodeAt(_+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),_++),O+=d<128?1:d<2048?2:d<65536?3:4;for(c=a.uint8array?new Uint8Array(O):new Array(O),_=S=0;S<O;_++)(64512&(d=b.charCodeAt(_)))==55296&&_+1<E&&(64512&(y=b.charCodeAt(_+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),_++),d<128?c[S++]=d:(d<2048?c[S++]=192|d>>>6:(d<65536?c[S++]=224|d>>>12:(c[S++]=240|d>>>18,c[S++]=128|d>>>12&63),c[S++]=128|d>>>6&63),c[S++]=128|63&d);return c}(u)},i.utf8decode=function(u){return a.nodebuffer?r.transformTo("nodebuffer",u).toString("utf-8"):function(b){var c,d,y,_,S=b.length,E=new Array(2*S);for(c=d=0;c<S;)if((y=b[c++])<128)E[d++]=y;else if(4<(_=h[y]))E[d++]=65533,c+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&c<S;)y=y<<6|63&b[c++],_--;1<_?E[d++]=65533:y<65536?E[d++]=y:(y-=65536,E[d++]=55296|y>>10&1023,E[d++]=56320|1023&y)}return E.length!==d&&(E.subarray?E=E.subarray(0,d):E.length=d),r.applyFromCharCode(E)}(u=r.transformTo(a.uint8array?"uint8array":"array",u))},r.inherits(m,l),m.prototype.processChunk=function(u){var b=r.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var c=b;(b=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),b.set(c,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var d=function(_,S){var E;for((S=S||_.length)>_.length&&(S=_.length),E=S-1;0<=E&&(192&_[E])==128;)E--;return E<0||E===0?S:E+h[_[E]]>S?E:S}(b),y=b;d!==b.length&&(a.uint8array?(y=b.subarray(0,d),this.leftOver=b.subarray(d,b.length)):(y=b.slice(0,d),this.leftOver=b.slice(d,b.length))),this.push({data:i.utf8decode(y),meta:u.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,r.inherits(g,l),g.prototype.processChunk=function(u){this.push({data:i.utf8encode(u.data),meta:u.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,s,i){var r=e("./support"),a=e("./base64"),o=e("./nodejsUtils"),l=e("./external");function h(c){return c}function w(c,d){for(var y=0;y<c.length;++y)d[y]=255&c.charCodeAt(y);return d}e("setimmediate"),i.newBlob=function(c,d){i.checkSupport("blob");try{return new Blob([c],{type:d})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(c),y.getBlob(d)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(c,d,y){var _=[],S=0,E=c.length;if(E<=y)return String.fromCharCode.apply(null,c);for(;S<E;)d==="array"||d==="nodebuffer"?_.push(String.fromCharCode.apply(null,c.slice(S,Math.min(S+y,E)))):_.push(String.fromCharCode.apply(null,c.subarray(S,Math.min(S+y,E)))),S+=y;return _.join("")},stringifyByChar:function(c){for(var d="",y=0;y<c.length;y++)d+=String.fromCharCode(c[y]);return d},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function g(c){var d=65536,y=i.getTypeOf(c),_=!0;if(y==="uint8array"?_=m.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=m.applyCanBeUsed.nodebuffer),_)for(;1<d;)try{return m.stringifyByChunk(c,y,d)}catch{d=Math.floor(d/2)}return m.stringifyByChar(c)}function u(c,d){for(var y=0;y<c.length;y++)d[y]=c[y];return d}i.applyFromCharCode=g;var b={};b.string={string:h,array:function(c){return w(c,new Array(c.length))},arraybuffer:function(c){return b.string.uint8array(c).buffer},uint8array:function(c){return w(c,new Uint8Array(c.length))},nodebuffer:function(c){return w(c,o.allocBuffer(c.length))}},b.array={string:g,array:h,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return o.newBufferFrom(c)}},b.arraybuffer={string:function(c){return g(new Uint8Array(c))},array:function(c){return u(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:h,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return o.newBufferFrom(new Uint8Array(c))}},b.uint8array={string:g,array:function(c){return u(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:h,nodebuffer:function(c){return o.newBufferFrom(c)}},b.nodebuffer={string:g,array:function(c){return u(c,new Array(c.length))},arraybuffer:function(c){return b.nodebuffer.uint8array(c).buffer},uint8array:function(c){return u(c,new Uint8Array(c.length))},nodebuffer:h},i.transformTo=function(c,d){if(d=d||"",!c)return d;i.checkSupport(c);var y=i.getTypeOf(d);return b[y][c](d)},i.resolve=function(c){for(var d=c.split("/"),y=[],_=0;_<d.length;_++){var S=d[_];S==="."||S===""&&_!==0&&_!==d.length-1||(S===".."?y.pop():y.push(S))}return y.join("/")},i.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(c)?"nodebuffer":r.uint8array&&c instanceof Uint8Array?"uint8array":r.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(c){if(!r[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(c){var d,y,_="";for(y=0;y<(c||"").length;y++)_+="\\x"+((d=c.charCodeAt(y))<16?"0":"")+d.toString(16).toUpperCase();return _},i.delay=function(c,d,y){setImmediate(function(){c.apply(y||null,d||[])})},i.inherits=function(c,d){function y(){}y.prototype=d.prototype,c.prototype=new y},i.extend=function(){var c,d,y={};for(c=0;c<arguments.length;c++)for(d in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],d)&&y[d]===void 0&&(y[d]=arguments[c][d]);return y},i.prepareContent=function(c,d,y,_,S){return l.Promise.resolve(d).then(function(E){return r.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,I){var L=new FileReader;L.onload=function(T){O(T.target.result)},L.onerror=function(T){I(T.target.error)},L.readAsArrayBuffer(E)}):E}).then(function(E){var O=i.getTypeOf(E);return O?(O==="arraybuffer"?E=i.transformTo("uint8array",E):O==="string"&&(S?E=a.decode(E):y&&_!==!0&&(E=function(I){return w(I,r.uint8array?new Uint8Array(I.length):new Array(I.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,s,i){var r=e("./reader/readerFor"),a=e("./utils"),o=e("./signature"),l=e("./zipEntry"),h=e("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(m)+")")}},isSignature:function(m,g){var u=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===g;return this.reader.setIndex(u),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",u=a.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,u,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),g=this.reader.readInt(4),u=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var b=g-u;if(0<b)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,s,i){var r=e("./reader/readerFor"),a=e("./utils"),o=e("./compressedObject"),l=e("./crc32"),h=e("./utf8"),w=e("./compressions"),m=e("./support");function g(u,b){this.options=u,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var b,c;if(u.skip(22),this.fileNameLength=u.readInt(2),c=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(d){for(var y in w)if(Object.prototype.hasOwnProperty.call(w,y)&&w[y].magic===d)return w[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var b=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(b),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var b,c,d,y=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<y;)b=u.readInt(2),c=u.readInt(2),d=u.readData(c),this.extraFields[b]={id:b,length:c,value:d};u.setIndex(y)},handleUTF8:function(){var u=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var c=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(d!==null)this.fileCommentStr=d;else{var y=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var b=r(u.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var b=r(u.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(u.length-5))}return null}},s.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,s,i){function r(b,c,d){this.name=b,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=c,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}}var a=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),l=e("./utf8"),h=e("./compressedObject"),w=e("./stream/GenericWorker");r.prototype={internalStream:function(b){var c=null,d="string";try{if(!b)throw new Error("No output type specified.");var y=(d=b.toLowerCase())==="string"||d==="text";d!=="binarystring"&&d!=="text"||(d="string"),c=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(c=c.pipe(new l.Utf8EncodeWorker)),!_&&y&&(c=c.pipe(new l.Utf8DecodeWorker))}catch(S){(c=new w("error")).error(S)}return new a(c,d,"")},async:function(b,c){return this.internalStream(b).accumulate(c)},nodeStream:function(b,c){return this.internalStream(b||"nodebuffer").toNodejsStream(c)},_compressWorker:function(b,c){if(this._data instanceof h&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new l.Utf8EncodeWorker)),h.createWorkerFrom(d,b,c)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof w?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<m.length;u++)r.prototype[m[u]]=g;s.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,s,i){(function(r){var a,o,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var h=0,w=new l(b),m=r.document.createTextNode("");w.observe(m,{characterData:!0}),a=function(){m.data=h=++h%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var c=r.document.createElement("script");c.onreadystatechange=function(){b(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},r.document.documentElement.appendChild(c)}:function(){setTimeout(b,0)};else{var g=new r.MessageChannel;g.port1.onmessage=b,a=function(){g.port2.postMessage(0)}}var u=[];function b(){var c,d;o=!0;for(var y=u.length;y;){for(d=u,u=[],c=-1;++c<y;)d[c]();y=u.length}o=!1}s.exports=function(c){u.push(c)!==1||o||a()}}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,s,i){var r=e("immediate");function a(){}var o={},l=["REJECTED"],h=["FULFILLED"],w=["PENDING"];function m(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,y!==a&&c(this,y)}function g(y,_,S){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function u(y,_,S){r(function(){var E;try{E=_(S)}catch(O){return o.reject(y,O)}E===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,E)})}function b(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function c(y,_){var S=!1;function E(L){S||(S=!0,o.reject(y,L))}function O(L){S||(S=!0,o.resolve(y,L))}var I=d(function(){_(O,E)});I.status==="error"&&E(I.value)}function d(y,_){var S={};try{S.value=y(_),S.status="success"}catch(E){S.status="error",S.value=E}return S}(s.exports=m).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(S){return _.resolve(y()).then(function(){return S})},function(S){return _.resolve(y()).then(function(){throw S})})},m.prototype.catch=function(y){return this.then(null,y)},m.prototype.then=function(y,_){if(typeof y!="function"&&this.state===h||typeof _!="function"&&this.state===l)return this;var S=new this.constructor(a);return this.state!==w?u(S,this.state===h?y:_,this.outcome):this.queue.push(new g(S,y,_)),S},g.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){u(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){o.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){u(this.promise,this.onRejected,y)},o.resolve=function(y,_){var S=d(b,_);if(S.status==="error")return o.reject(y,S.value);var E=S.value;if(E)c(y,E);else{y.state=h,y.outcome=_;for(var O=-1,I=y.queue.length;++O<I;)y.queue[O].callFulfilled(_)}return y},o.reject=function(y,_){y.state=l,y.outcome=_;for(var S=-1,E=y.queue.length;++S<E;)y.queue[S].callRejected(_);return y},m.resolve=function(y){return y instanceof this?y:o.resolve(new this(a),y)},m.reject=function(y){var _=new this(a);return o.reject(_,y)},m.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,E=!1;if(!S)return this.resolve([]);for(var O=new Array(S),I=0,L=-1,T=new this(a);++L<S;)B(y[L],L);return T;function B(M,H){_.resolve(M).then(function(A){O[H]=A,++I!==S||E||(E=!0,o.resolve(T,O))},function(A){E||(E=!0,o.reject(T,A))})}},m.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,E=!1;if(!S)return this.resolve([]);for(var O=-1,I=new this(a);++O<S;)L=y[O],_.resolve(L).then(function(T){E||(E=!0,o.resolve(I,T))},function(T){E||(E=!0,o.reject(I,T))});var L;return I}},{immediate:36}],38:[function(e,s,i){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),s.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,s,i){var r=e("./zlib/deflate"),a=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/messages"),h=e("./zlib/zstream"),w=Object.prototype.toString,m=0,g=-1,u=0,b=8;function c(y){if(!(this instanceof c))return new c(y);this.options=a.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var S=r.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(S!==m)throw new Error(l[S]);if(_.header&&r.deflateSetHeader(this.strm,_.header),_.dictionary){var E;if(E=typeof _.dictionary=="string"?o.string2buf(_.dictionary):w.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(S=r.deflateSetDictionary(this.strm,E))!==m)throw new Error(l[S]);this._dict_set=!0}}function d(y,_){var S=new c(_);if(S.push(y,!0),S.err)throw S.msg||l[S.err];return S.result}c.prototype.push=function(y,_){var S,E,O=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=_===~~_?_:_===!0?4:0,typeof y=="string"?O.input=o.string2buf(y):w.call(y)==="[object ArrayBuffer]"?O.input=new Uint8Array(y):O.input=y,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(I),O.next_out=0,O.avail_out=I),(S=r.deflate(O,E))!==1&&S!==m)return this.onEnd(S),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&S!==1);return E===4?(S=r.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===m):E!==2||(this.onEnd(m),!(O.avail_out=0))},c.prototype.onData=function(y){this.chunks.push(y)},c.prototype.onEnd=function(y){y===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=c,i.deflate=d,i.deflateRaw=function(y,_){return(_=_||{}).raw=!0,d(y,_)},i.gzip=function(y,_){return(_=_||{}).gzip=!0,d(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,s,i){var r=e("./zlib/inflate"),a=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/constants"),h=e("./zlib/messages"),w=e("./zlib/zstream"),m=e("./zlib/gzheader"),g=Object.prototype.toString;function u(c){if(!(this instanceof u))return new u(c);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},c||{});var d=this.options;d.raw&&0<=d.windowBits&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(0<=d.windowBits&&d.windowBits<16)||c&&c.windowBits||(d.windowBits+=32),15<d.windowBits&&d.windowBits<48&&!(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var y=r.inflateInit2(this.strm,d.windowBits);if(y!==l.Z_OK)throw new Error(h[y]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function b(c,d){var y=new u(d);if(y.push(c,!0),y.err)throw y.msg||h[y.err];return y.result}u.prototype.push=function(c,d){var y,_,S,E,O,I,L=this.strm,T=this.options.chunkSize,B=this.options.dictionary,M=!1;if(this.ended)return!1;_=d===~~d?d:d===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof c=="string"?L.input=o.binstring2buf(c):g.call(c)==="[object ArrayBuffer]"?L.input=new Uint8Array(c):L.input=c,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new a.Buf8(T),L.next_out=0,L.avail_out=T),(y=r.inflate(L,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&B&&(I=typeof B=="string"?o.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,y=r.inflateSetDictionary(this.strm,I)),y===l.Z_BUF_ERROR&&M===!0&&(y=l.Z_OK,M=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&y!==l.Z_STREAM_END&&(L.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=o.utf8border(L.output,L.next_out),E=L.next_out-S,O=o.buf2string(L.output,S),L.next_out=E,L.avail_out=T-E,E&&a.arraySet(L.output,L.output,S,E,0),this.onData(O)):this.onData(a.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(M=!0)}while((0<L.avail_in||L.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(y=r.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(L.avail_out=0))},u.prototype.onData=function(c){this.chunks.push(c)},u.prototype.onEnd=function(c){c===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Inflate=u,i.inflate=b,i.inflateRaw=function(c,d){return(d=d||{}).raw=!0,b(c,d)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,s,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var w=h.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(l[m]=w[m])}}return l},i.shrinkBuf=function(l,h){return l.length===h?l:l.subarray?l.subarray(0,h):(l.length=h,l)};var a={arraySet:function(l,h,w,m,g){if(h.subarray&&l.subarray)l.set(h.subarray(w,w+m),g);else for(var u=0;u<m;u++)l[g+u]=h[w+u]},flattenChunks:function(l){var h,w,m,g,u,b;for(h=m=0,w=l.length;h<w;h++)m+=l[h].length;for(b=new Uint8Array(m),h=g=0,w=l.length;h<w;h++)u=l[h],b.set(u,g),g+=u.length;return b}},o={arraySet:function(l,h,w,m,g){for(var u=0;u<m;u++)l[g+u]=h[w+u]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],42:[function(e,s,i){var r=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new r.Buf8(256),h=0;h<256;h++)l[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function w(m,g){if(g<65537&&(m.subarray&&o||!m.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(m,g));for(var u="",b=0;b<g;b++)u+=String.fromCharCode(m[b]);return u}l[254]=l[254]=1,i.string2buf=function(m){var g,u,b,c,d,y=m.length,_=0;for(c=0;c<y;c++)(64512&(u=m.charCodeAt(c)))==55296&&c+1<y&&(64512&(b=m.charCodeAt(c+1)))==56320&&(u=65536+(u-55296<<10)+(b-56320),c++),_+=u<128?1:u<2048?2:u<65536?3:4;for(g=new r.Buf8(_),c=d=0;d<_;c++)(64512&(u=m.charCodeAt(c)))==55296&&c+1<y&&(64512&(b=m.charCodeAt(c+1)))==56320&&(u=65536+(u-55296<<10)+(b-56320),c++),u<128?g[d++]=u:(u<2048?g[d++]=192|u>>>6:(u<65536?g[d++]=224|u>>>12:(g[d++]=240|u>>>18,g[d++]=128|u>>>12&63),g[d++]=128|u>>>6&63),g[d++]=128|63&u);return g},i.buf2binstring=function(m){return w(m,m.length)},i.binstring2buf=function(m){for(var g=new r.Buf8(m.length),u=0,b=g.length;u<b;u++)g[u]=m.charCodeAt(u);return g},i.buf2string=function(m,g){var u,b,c,d,y=g||m.length,_=new Array(2*y);for(u=b=0;u<y;)if((c=m[u++])<128)_[b++]=c;else if(4<(d=l[c]))_[b++]=65533,u+=d-1;else{for(c&=d===2?31:d===3?15:7;1<d&&u<y;)c=c<<6|63&m[u++],d--;1<d?_[b++]=65533:c<65536?_[b++]=c:(c-=65536,_[b++]=55296|c>>10&1023,_[b++]=56320|1023&c)}return w(_,b)},i.utf8border=function(m,g){var u;for((g=g||m.length)>m.length&&(g=m.length),u=g-1;0<=u&&(192&m[u])==128;)u--;return u<0||u===0?g:u+l[m[u]]>g?u:g}},{"./common":41}],43:[function(e,s,i){s.exports=function(r,a,o,l){for(var h=65535&r|0,w=r>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;w=w+(h=h+a[l++]|0)|0,--m;);h%=65521,w%=65521}return h|w<<16|0}},{}],44:[function(e,s,i){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,s,i){var r=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();s.exports=function(a,o,l,h){var w=r,m=h+l;a^=-1;for(var g=h;g<m;g++)a=a>>>8^w[255&(a^o[g])];return-1^a}},{}],46:[function(e,s,i){var r,a=e("../utils/common"),o=e("./trees"),l=e("./adler32"),h=e("./crc32"),w=e("./messages"),m=0,g=4,u=0,b=-2,c=-1,d=4,y=2,_=8,S=9,E=286,O=30,I=19,L=2*E+1,T=15,B=3,M=258,H=M+B+1,A=42,D=113,p=1,j=2,ee=3,U=4;function te(f,P){return f.msg=w[P],P}function K(f){return(f<<1)-(4<f?9:0)}function Q(f){for(var P=f.length;0<=--P;)f[P]=0}function R(f){var P=f.state,z=P.pending;z>f.avail_out&&(z=f.avail_out),z!==0&&(a.arraySet(f.output,P.pending_buf,P.pending_out,z,f.next_out),f.next_out+=z,P.pending_out+=z,f.total_out+=z,f.avail_out-=z,P.pending-=z,P.pending===0&&(P.pending_out=0))}function x(f,P){o._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,P),f.block_start=f.strstart,R(f.strm)}function J(f,P){f.pending_buf[f.pending++]=P}function G(f,P){f.pending_buf[f.pending++]=P>>>8&255,f.pending_buf[f.pending++]=255&P}function V(f,P){var z,v,k=f.max_chain_length,C=f.strstart,F=f.prev_length,$=f.nice_match,N=f.strstart>f.w_size-H?f.strstart-(f.w_size-H):0,q=f.window,Z=f.w_mask,W=f.prev,Y=f.strstart+M,oe=q[C+F-1],se=q[C+F];f.prev_length>=f.good_match&&(k>>=2),$>f.lookahead&&($=f.lookahead);do if(q[(z=P)+F]===se&&q[z+F-1]===oe&&q[z]===q[C]&&q[++z]===q[C+1]){C+=2,z++;do;while(q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&q[++C]===q[++z]&&C<Y);if(v=M-(Y-C),C=Y-M,F<v){if(f.match_start=P,$<=(F=v))break;oe=q[C+F-1],se=q[C+F]}}while((P=W[P&Z])>N&&--k!=0);return F<=f.lookahead?F:f.lookahead}function ue(f){var P,z,v,k,C,F,$,N,q,Z,W=f.w_size;do{if(k=f.window_size-f.lookahead-f.strstart,f.strstart>=W+(W-H)){for(a.arraySet(f.window,f.window,W,W,0),f.match_start-=W,f.strstart-=W,f.block_start-=W,P=z=f.hash_size;v=f.head[--P],f.head[P]=W<=v?v-W:0,--z;);for(P=z=W;v=f.prev[--P],f.prev[P]=W<=v?v-W:0,--z;);k+=W}if(f.strm.avail_in===0)break;if(F=f.strm,$=f.window,N=f.strstart+f.lookahead,q=k,Z=void 0,Z=F.avail_in,q<Z&&(Z=q),z=Z===0?0:(F.avail_in-=Z,a.arraySet($,F.input,F.next_in,Z,N),F.state.wrap===1?F.adler=l(F.adler,$,Z,N):F.state.wrap===2&&(F.adler=h(F.adler,$,Z,N)),F.next_in+=Z,F.total_in+=Z,Z),f.lookahead+=z,f.lookahead+f.insert>=B)for(C=f.strstart-f.insert,f.ins_h=f.window[C],f.ins_h=(f.ins_h<<f.hash_shift^f.window[C+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[C+B-1])&f.hash_mask,f.prev[C&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=C,C++,f.insert--,!(f.lookahead+f.insert<B)););}while(f.lookahead<H&&f.strm.avail_in!==0)}function ge(f,P){for(var z,v;;){if(f.lookahead<H){if(ue(f),f.lookahead<H&&P===m)return p;if(f.lookahead===0)break}if(z=0,f.lookahead>=B&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+B-1])&f.hash_mask,z=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),z!==0&&f.strstart-z<=f.w_size-H&&(f.match_length=V(f,z)),f.match_length>=B)if(v=o._tr_tally(f,f.strstart-f.match_start,f.match_length-B),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=B){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+B-1])&f.hash_mask,z=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else v=o._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(v&&(x(f,!1),f.strm.avail_out===0))return p}return f.insert=f.strstart<B-1?f.strstart:B-1,P===g?(x(f,!0),f.strm.avail_out===0?ee:U):f.last_lit&&(x(f,!1),f.strm.avail_out===0)?p:j}function ne(f,P){for(var z,v,k;;){if(f.lookahead<H){if(ue(f),f.lookahead<H&&P===m)return p;if(f.lookahead===0)break}if(z=0,f.lookahead>=B&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+B-1])&f.hash_mask,z=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=B-1,z!==0&&f.prev_length<f.max_lazy_match&&f.strstart-z<=f.w_size-H&&(f.match_length=V(f,z),f.match_length<=5&&(f.strategy===1||f.match_length===B&&4096<f.strstart-f.match_start)&&(f.match_length=B-1)),f.prev_length>=B&&f.match_length<=f.prev_length){for(k=f.strstart+f.lookahead-B,v=o._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-B),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=k&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+B-1])&f.hash_mask,z=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=B-1,f.strstart++,v&&(x(f,!1),f.strm.avail_out===0))return p}else if(f.match_available){if((v=o._tr_tally(f,0,f.window[f.strstart-1]))&&x(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return p}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(v=o._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<B-1?f.strstart:B-1,P===g?(x(f,!0),f.strm.avail_out===0?ee:U):f.last_lit&&(x(f,!1),f.strm.avail_out===0)?p:j}function ie(f,P,z,v,k){this.good_length=f,this.max_lazy=P,this.nice_length=z,this.max_chain=v,this.func=k}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*L),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(T+1),this.heap=new a.Buf16(2*E+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(f){var P;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=y,(P=f.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?A:D,f.adler=P.wrap===2?0:1,P.last_flush=m,o._tr_init(P),u):te(f,b)}function Ce(f){var P=he(f);return P===u&&function(z){z.window_size=2*z.w_size,Q(z.head),z.max_lazy_match=r[z.level].max_lazy,z.good_match=r[z.level].good_length,z.nice_match=r[z.level].nice_length,z.max_chain_length=r[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=B-1,z.match_available=0,z.ins_h=0}(f.state),P}function Ae(f,P,z,v,k,C){if(!f)return b;var F=1;if(P===c&&(P=6),v<0?(F=0,v=-v):15<v&&(F=2,v-=16),k<1||S<k||z!==_||v<8||15<v||P<0||9<P||C<0||d<C)return te(f,b);v===8&&(v=9);var $=new me;return(f.state=$).strm=f,$.wrap=F,$.gzhead=null,$.w_bits=v,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=k+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+B-1)/B),$.window=new a.Buf8(2*$.w_size),$.head=new a.Buf16($.hash_size),$.prev=new a.Buf16($.w_size),$.lit_bufsize=1<<k+6,$.pending_buf_size=4*$.lit_bufsize,$.pending_buf=new a.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=P,$.strategy=C,$.method=z,Ce(f)}r=[new ie(0,0,0,0,function(f,P){var z=65535;for(z>f.pending_buf_size-5&&(z=f.pending_buf_size-5);;){if(f.lookahead<=1){if(ue(f),f.lookahead===0&&P===m)return p;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var v=f.block_start+z;if((f.strstart===0||f.strstart>=v)&&(f.lookahead=f.strstart-v,f.strstart=v,x(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-H&&(x(f,!1),f.strm.avail_out===0))return p}return f.insert=0,P===g?(x(f,!0),f.strm.avail_out===0?ee:U):(f.strstart>f.block_start&&(x(f,!1),f.strm.avail_out),p)}),new ie(4,4,8,4,ge),new ie(4,5,16,8,ge),new ie(4,6,32,32,ge),new ie(4,4,16,16,ne),new ie(8,16,32,32,ne),new ie(8,16,128,128,ne),new ie(8,32,128,256,ne),new ie(32,128,258,1024,ne),new ie(32,258,258,4096,ne)],i.deflateInit=function(f,P){return Ae(f,P,_,15,8,0)},i.deflateInit2=Ae,i.deflateReset=Ce,i.deflateResetKeep=he,i.deflateSetHeader=function(f,P){return f&&f.state?f.state.wrap!==2?b:(f.state.gzhead=P,u):b},i.deflate=function(f,P){var z,v,k,C;if(!f||!f.state||5<P||P<0)return f?te(f,b):b;if(v=f.state,!f.output||!f.input&&f.avail_in!==0||v.status===666&&P!==g)return te(f,f.avail_out===0?-5:b);if(v.strm=f,z=v.last_flush,v.last_flush=P,v.status===A)if(v.wrap===2)f.adler=0,J(v,31),J(v,139),J(v,8),v.gzhead?(J(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),J(v,255&v.gzhead.time),J(v,v.gzhead.time>>8&255),J(v,v.gzhead.time>>16&255),J(v,v.gzhead.time>>24&255),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(J(v,255&v.gzhead.extra.length),J(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(f.adler=h(f.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(J(v,0),J(v,0),J(v,0),J(v,0),J(v,0),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,3),v.status=D);else{var F=_+(v.w_bits-8<<4)<<8;F|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(F|=32),F+=31-F%31,v.status=D,G(v,F),v.strstart!==0&&(G(v,f.adler>>>16),G(v,65535&f.adler)),f.adler=1}if(v.status===69)if(v.gzhead.extra){for(k=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),R(f),k=v.pending,v.pending!==v.pending_buf_size));)J(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){k=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),R(f),k=v.pending,v.pending===v.pending_buf_size)){C=1;break}C=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,J(v,C)}while(C!==0);v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),C===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){k=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),R(f),k=v.pending,v.pending===v.pending_buf_size)){C=1;break}C=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,J(v,C)}while(C!==0);v.gzhead.hcrc&&v.pending>k&&(f.adler=h(f.adler,v.pending_buf,v.pending-k,k)),C===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&R(f),v.pending+2<=v.pending_buf_size&&(J(v,255&f.adler),J(v,f.adler>>8&255),f.adler=0,v.status=D)):v.status=D),v.pending!==0){if(R(f),f.avail_out===0)return v.last_flush=-1,u}else if(f.avail_in===0&&K(P)<=K(z)&&P!==g)return te(f,-5);if(v.status===666&&f.avail_in!==0)return te(f,-5);if(f.avail_in!==0||v.lookahead!==0||P!==m&&v.status!==666){var $=v.strategy===2?function(N,q){for(var Z;;){if(N.lookahead===0&&(ue(N),N.lookahead===0)){if(q===m)return p;break}if(N.match_length=0,Z=o._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Z&&(x(N,!1),N.strm.avail_out===0))return p}return N.insert=0,q===g?(x(N,!0),N.strm.avail_out===0?ee:U):N.last_lit&&(x(N,!1),N.strm.avail_out===0)?p:j}(v,P):v.strategy===3?function(N,q){for(var Z,W,Y,oe,se=N.window;;){if(N.lookahead<=M){if(ue(N),N.lookahead<=M&&q===m)return p;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=B&&0<N.strstart&&(W=se[Y=N.strstart-1])===se[++Y]&&W===se[++Y]&&W===se[++Y]){oe=N.strstart+M;do;while(W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&W===se[++Y]&&Y<oe);N.match_length=M-(oe-Y),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=B?(Z=o._tr_tally(N,1,N.match_length-B),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Z=o._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Z&&(x(N,!1),N.strm.avail_out===0))return p}return N.insert=0,q===g?(x(N,!0),N.strm.avail_out===0?ee:U):N.last_lit&&(x(N,!1),N.strm.avail_out===0)?p:j}(v,P):r[v.level].func(v,P);if($!==ee&&$!==U||(v.status=666),$===p||$===ee)return f.avail_out===0&&(v.last_flush=-1),u;if($===j&&(P===1?o._tr_align(v):P!==5&&(o._tr_stored_block(v,0,0,!1),P===3&&(Q(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),R(f),f.avail_out===0))return v.last_flush=-1,u}return P!==g?u:v.wrap<=0?1:(v.wrap===2?(J(v,255&f.adler),J(v,f.adler>>8&255),J(v,f.adler>>16&255),J(v,f.adler>>24&255),J(v,255&f.total_in),J(v,f.total_in>>8&255),J(v,f.total_in>>16&255),J(v,f.total_in>>24&255)):(G(v,f.adler>>>16),G(v,65535&f.adler)),R(f),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?u:1)},i.deflateEnd=function(f){var P;return f&&f.state?(P=f.state.status)!==A&&P!==69&&P!==73&&P!==91&&P!==103&&P!==D&&P!==666?te(f,b):(f.state=null,P===D?te(f,-3):u):b},i.deflateSetDictionary=function(f,P){var z,v,k,C,F,$,N,q,Z=P.length;if(!f||!f.state||(C=(z=f.state).wrap)===2||C===1&&z.status!==A||z.lookahead)return b;for(C===1&&(f.adler=l(f.adler,P,Z,0)),z.wrap=0,Z>=z.w_size&&(C===0&&(Q(z.head),z.strstart=0,z.block_start=0,z.insert=0),q=new a.Buf8(z.w_size),a.arraySet(q,P,Z-z.w_size,z.w_size,0),P=q,Z=z.w_size),F=f.avail_in,$=f.next_in,N=f.input,f.avail_in=Z,f.next_in=0,f.input=P,ue(z);z.lookahead>=B;){for(v=z.strstart,k=z.lookahead-(B-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[v+B-1])&z.hash_mask,z.prev[v&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=v,v++,--k;);z.strstart=v,z.lookahead=B-1,ue(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=B-1,z.match_available=0,f.next_in=$,f.input=N,f.avail_in=F,z.wrap=C,u},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,s,i){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,s,i){s.exports=function(r,a){var o,l,h,w,m,g,u,b,c,d,y,_,S,E,O,I,L,T,B,M,H,A,D,p,j;o=r.state,l=r.next_in,p=r.input,h=l+(r.avail_in-5),w=r.next_out,j=r.output,m=w-(a-r.avail_out),g=w+(r.avail_out-257),u=o.dmax,b=o.wsize,c=o.whave,d=o.wnext,y=o.window,_=o.hold,S=o.bits,E=o.lencode,O=o.distcode,I=(1<<o.lenbits)-1,L=(1<<o.distbits)-1;e:do{S<15&&(_+=p[l++]<<S,S+=8,_+=p[l++]<<S,S+=8),T=E[_&I];t:for(;;){if(_>>>=B=T>>>24,S-=B,(B=T>>>16&255)===0)j[w++]=65535&T;else{if(!(16&B)){if(!(64&B)){T=E[(65535&T)+(_&(1<<B)-1)];continue t}if(32&B){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}M=65535&T,(B&=15)&&(S<B&&(_+=p[l++]<<S,S+=8),M+=_&(1<<B)-1,_>>>=B,S-=B),S<15&&(_+=p[l++]<<S,S+=8,_+=p[l++]<<S,S+=8),T=O[_&L];n:for(;;){if(_>>>=B=T>>>24,S-=B,!(16&(B=T>>>16&255))){if(!(64&B)){T=O[(65535&T)+(_&(1<<B)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(H=65535&T,S<(B&=15)&&(_+=p[l++]<<S,(S+=8)<B&&(_+=p[l++]<<S,S+=8)),u<(H+=_&(1<<B)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=B,S-=B,(B=w-m)<H){if(c<(B=H-B)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(D=y,(A=0)===d){if(A+=b-B,B<M){for(M-=B;j[w++]=y[A++],--B;);A=w-H,D=j}}else if(d<B){if(A+=b+d-B,(B-=d)<M){for(M-=B;j[w++]=y[A++],--B;);if(A=0,d<M){for(M-=B=d;j[w++]=y[A++],--B;);A=w-H,D=j}}}else if(A+=d-B,B<M){for(M-=B;j[w++]=y[A++],--B;);A=w-H,D=j}for(;2<M;)j[w++]=D[A++],j[w++]=D[A++],j[w++]=D[A++],M-=3;M&&(j[w++]=D[A++],1<M&&(j[w++]=D[A++]))}else{for(A=w-H;j[w++]=j[A++],j[w++]=j[A++],j[w++]=j[A++],2<(M-=3););M&&(j[w++]=j[A++],1<M&&(j[w++]=j[A++]))}break}}break}}while(l<h&&w<g);l-=M=S>>3,_&=(1<<(S-=M<<3))-1,r.next_in=l,r.next_out=w,r.avail_in=l<h?h-l+5:5-(l-h),r.avail_out=w<g?g-w+257:257-(w-g),o.hold=_,o.bits=S}},{}],49:[function(e,s,i){var r=e("../utils/common"),a=e("./adler32"),o=e("./crc32"),l=e("./inffast"),h=e("./inftrees"),w=1,m=2,g=0,u=-2,b=1,c=852,d=592;function y(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(A){var D;return A&&A.state?(D=A.state,A.total_in=A.total_out=D.total=0,A.msg="",D.wrap&&(A.adler=1&D.wrap),D.mode=b,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new r.Buf32(c),D.distcode=D.distdyn=new r.Buf32(d),D.sane=1,D.back=-1,g):u}function E(A){var D;return A&&A.state?((D=A.state).wsize=0,D.whave=0,D.wnext=0,S(A)):u}function O(A,D){var p,j;return A&&A.state?(j=A.state,D<0?(p=0,D=-D):(p=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?u:(j.window!==null&&j.wbits!==D&&(j.window=null),j.wrap=p,j.wbits=D,E(A))):u}function I(A,D){var p,j;return A?(j=new _,(A.state=j).window=null,(p=O(A,D))!==g&&(A.state=null),p):u}var L,T,B=!0;function M(A){if(B){var D;for(L=new r.Buf32(512),T=new r.Buf32(32),D=0;D<144;)A.lens[D++]=8;for(;D<256;)A.lens[D++]=9;for(;D<280;)A.lens[D++]=7;for(;D<288;)A.lens[D++]=8;for(h(w,A.lens,0,288,L,0,A.work,{bits:9}),D=0;D<32;)A.lens[D++]=5;h(m,A.lens,0,32,T,0,A.work,{bits:5}),B=!1}A.lencode=L,A.lenbits=9,A.distcode=T,A.distbits=5}function H(A,D,p,j){var ee,U=A.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new r.Buf8(U.wsize)),j>=U.wsize?(r.arraySet(U.window,D,p-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(j<(ee=U.wsize-U.wnext)&&(ee=j),r.arraySet(U.window,D,p-j,ee,U.wnext),(j-=ee)?(r.arraySet(U.window,D,p-j,j,0),U.wnext=j,U.whave=U.wsize):(U.wnext+=ee,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=ee))),0}i.inflateReset=E,i.inflateReset2=O,i.inflateResetKeep=S,i.inflateInit=function(A){return I(A,15)},i.inflateInit2=I,i.inflate=function(A,D){var p,j,ee,U,te,K,Q,R,x,J,G,V,ue,ge,ne,ie,me,he,Ce,Ae,f,P,z,v,k=0,C=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return u;(p=A.state).mode===12&&(p.mode=13),te=A.next_out,ee=A.output,Q=A.avail_out,U=A.next_in,j=A.input,K=A.avail_in,R=p.hold,x=p.bits,J=K,G=Q,P=g;e:for(;;)switch(p.mode){case b:if(p.wrap===0){p.mode=13;break}for(;x<16;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(2&p.wrap&&R===35615){C[p.check=0]=255&R,C[1]=R>>>8&255,p.check=o(p.check,C,2,0),x=R=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&R)<<8)+(R>>8))%31){A.msg="incorrect header check",p.mode=30;break}if((15&R)!=8){A.msg="unknown compression method",p.mode=30;break}if(x-=4,f=8+(15&(R>>>=4)),p.wbits===0)p.wbits=f;else if(f>p.wbits){A.msg="invalid window size",p.mode=30;break}p.dmax=1<<f,A.adler=p.check=1,p.mode=512&R?10:12,x=R=0;break;case 2:for(;x<16;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(p.flags=R,(255&p.flags)!=8){A.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){A.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=R>>8&1),512&p.flags&&(C[0]=255&R,C[1]=R>>>8&255,p.check=o(p.check,C,2,0)),x=R=0,p.mode=3;case 3:for(;x<32;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.head&&(p.head.time=R),512&p.flags&&(C[0]=255&R,C[1]=R>>>8&255,C[2]=R>>>16&255,C[3]=R>>>24&255,p.check=o(p.check,C,4,0)),x=R=0,p.mode=4;case 4:for(;x<16;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.head&&(p.head.xflags=255&R,p.head.os=R>>8),512&p.flags&&(C[0]=255&R,C[1]=R>>>8&255,p.check=o(p.check,C,2,0)),x=R=0,p.mode=5;case 5:if(1024&p.flags){for(;x<16;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.length=R,p.head&&(p.head.extra_len=R),512&p.flags&&(C[0]=255&R,C[1]=R>>>8&255,p.check=o(p.check,C,2,0)),x=R=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(K<(V=p.length)&&(V=K),V&&(p.head&&(f=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),r.arraySet(p.head.extra,j,U,V,f)),512&p.flags&&(p.check=o(p.check,j,V,U)),K-=V,U+=V,p.length-=V),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(K===0)break e;for(V=0;f=j[U+V++],p.head&&f&&p.length<65536&&(p.head.name+=String.fromCharCode(f)),f&&V<K;);if(512&p.flags&&(p.check=o(p.check,j,V,U)),K-=V,U+=V,f)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(K===0)break e;for(V=0;f=j[U+V++],p.head&&f&&p.length<65536&&(p.head.comment+=String.fromCharCode(f)),f&&V<K;);if(512&p.flags&&(p.check=o(p.check,j,V,U)),K-=V,U+=V,f)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;x<16;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(R!==(65535&p.check)){A.msg="header crc mismatch",p.mode=30;break}x=R=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),A.adler=p.check=0,p.mode=12;break;case 10:for(;x<32;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}A.adler=p.check=y(R),x=R=0,p.mode=11;case 11:if(p.havedict===0)return A.next_out=te,A.avail_out=Q,A.next_in=U,A.avail_in=K,p.hold=R,p.bits=x,2;A.adler=p.check=1,p.mode=12;case 12:if(D===5||D===6)break e;case 13:if(p.last){R>>>=7&x,x-=7&x,p.mode=27;break}for(;x<3;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}switch(p.last=1&R,x-=1,3&(R>>>=1)){case 0:p.mode=14;break;case 1:if(M(p),p.mode=20,D!==6)break;R>>>=2,x-=2;break e;case 2:p.mode=17;break;case 3:A.msg="invalid block type",p.mode=30}R>>>=2,x-=2;break;case 14:for(R>>>=7&x,x-=7&x;x<32;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if((65535&R)!=(R>>>16^65535)){A.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&R,x=R=0,p.mode=15,D===6)break e;case 15:p.mode=16;case 16:if(V=p.length){if(K<V&&(V=K),Q<V&&(V=Q),V===0)break e;r.arraySet(ee,j,U,V,te),K-=V,U+=V,Q-=V,te+=V,p.length-=V;break}p.mode=12;break;case 17:for(;x<14;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(p.nlen=257+(31&R),R>>>=5,x-=5,p.ndist=1+(31&R),R>>>=5,x-=5,p.ncode=4+(15&R),R>>>=4,x-=4,286<p.nlen||30<p.ndist){A.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;x<3;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.lens[F[p.have++]]=7&R,R>>>=3,x-=3}for(;p.have<19;)p.lens[F[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,z={bits:p.lenbits},P=h(0,p.lens,0,19,p.lencode,0,p.work,z),p.lenbits=z.bits,P){A.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;ie=(k=p.lencode[R&(1<<p.lenbits)-1])>>>16&255,me=65535&k,!((ne=k>>>24)<=x);){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(me<16)R>>>=ne,x-=ne,p.lens[p.have++]=me;else{if(me===16){for(v=ne+2;x<v;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(R>>>=ne,x-=ne,p.have===0){A.msg="invalid bit length repeat",p.mode=30;break}f=p.lens[p.have-1],V=3+(3&R),R>>>=2,x-=2}else if(me===17){for(v=ne+3;x<v;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}x-=ne,f=0,V=3+(7&(R>>>=ne)),R>>>=3,x-=3}else{for(v=ne+7;x<v;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}x-=ne,f=0,V=11+(127&(R>>>=ne)),R>>>=7,x-=7}if(p.have+V>p.nlen+p.ndist){A.msg="invalid bit length repeat",p.mode=30;break}for(;V--;)p.lens[p.have++]=f}}if(p.mode===30)break;if(p.lens[256]===0){A.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,z={bits:p.lenbits},P=h(w,p.lens,0,p.nlen,p.lencode,0,p.work,z),p.lenbits=z.bits,P){A.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,z={bits:p.distbits},P=h(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,z),p.distbits=z.bits,P){A.msg="invalid distances set",p.mode=30;break}if(p.mode=20,D===6)break e;case 20:p.mode=21;case 21:if(6<=K&&258<=Q){A.next_out=te,A.avail_out=Q,A.next_in=U,A.avail_in=K,p.hold=R,p.bits=x,l(A,G),te=A.next_out,ee=A.output,Q=A.avail_out,U=A.next_in,j=A.input,K=A.avail_in,R=p.hold,x=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;ie=(k=p.lencode[R&(1<<p.lenbits)-1])>>>16&255,me=65535&k,!((ne=k>>>24)<=x);){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(ie&&!(240&ie)){for(he=ne,Ce=ie,Ae=me;ie=(k=p.lencode[Ae+((R&(1<<he+Ce)-1)>>he)])>>>16&255,me=65535&k,!(he+(ne=k>>>24)<=x);){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}R>>>=he,x-=he,p.back+=he}if(R>>>=ne,x-=ne,p.back+=ne,p.length=me,ie===0){p.mode=26;break}if(32&ie){p.back=-1,p.mode=12;break}if(64&ie){A.msg="invalid literal/length code",p.mode=30;break}p.extra=15&ie,p.mode=22;case 22:if(p.extra){for(v=p.extra;x<v;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.length+=R&(1<<p.extra)-1,R>>>=p.extra,x-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;ie=(k=p.distcode[R&(1<<p.distbits)-1])>>>16&255,me=65535&k,!((ne=k>>>24)<=x);){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(!(240&ie)){for(he=ne,Ce=ie,Ae=me;ie=(k=p.distcode[Ae+((R&(1<<he+Ce)-1)>>he)])>>>16&255,me=65535&k,!(he+(ne=k>>>24)<=x);){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}R>>>=he,x-=he,p.back+=he}if(R>>>=ne,x-=ne,p.back+=ne,64&ie){A.msg="invalid distance code",p.mode=30;break}p.offset=me,p.extra=15&ie,p.mode=24;case 24:if(p.extra){for(v=p.extra;x<v;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}p.offset+=R&(1<<p.extra)-1,R>>>=p.extra,x-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){A.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(Q===0)break e;if(V=G-Q,p.offset>V){if((V=p.offset-V)>p.whave&&p.sane){A.msg="invalid distance too far back",p.mode=30;break}ue=V>p.wnext?(V-=p.wnext,p.wsize-V):p.wnext-V,V>p.length&&(V=p.length),ge=p.window}else ge=ee,ue=te-p.offset,V=p.length;for(Q<V&&(V=Q),Q-=V,p.length-=V;ee[te++]=ge[ue++],--V;);p.length===0&&(p.mode=21);break;case 26:if(Q===0)break e;ee[te++]=p.length,Q--,p.mode=21;break;case 27:if(p.wrap){for(;x<32;){if(K===0)break e;K--,R|=j[U++]<<x,x+=8}if(G-=Q,A.total_out+=G,p.total+=G,G&&(A.adler=p.check=p.flags?o(p.check,ee,G,te-G):a(p.check,ee,G,te-G)),G=Q,(p.flags?R:y(R))!==p.check){A.msg="incorrect data check",p.mode=30;break}x=R=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;x<32;){if(K===0)break e;K--,R+=j[U++]<<x,x+=8}if(R!==(4294967295&p.total)){A.msg="incorrect length check",p.mode=30;break}x=R=0}p.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return u}return A.next_out=te,A.avail_out=Q,A.next_in=U,A.avail_in=K,p.hold=R,p.bits=x,(p.wsize||G!==A.avail_out&&p.mode<30&&(p.mode<27||D!==4))&&H(A,A.output,A.next_out,G-A.avail_out)?(p.mode=31,-4):(J-=A.avail_in,G-=A.avail_out,A.total_in+=J,A.total_out+=G,p.total+=G,p.wrap&&G&&(A.adler=p.check=p.flags?o(p.check,ee,G,A.next_out-G):a(p.check,ee,G,A.next_out-G)),A.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(J==0&&G===0||D===4)&&P===g&&(P=-5),P)},i.inflateEnd=function(A){if(!A||!A.state)return u;var D=A.state;return D.window&&(D.window=null),A.state=null,g},i.inflateGetHeader=function(A,D){var p;return A&&A.state&&2&(p=A.state).wrap?((p.head=D).done=!1,g):u},i.inflateSetDictionary=function(A,D){var p,j=D.length;return A&&A.state?(p=A.state).wrap!==0&&p.mode!==11?u:p.mode===11&&a(1,D,j,0)!==p.check?-3:H(A,D,j,j)?(p.mode=31,-4):(p.havedict=1,g):u},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,s,i){var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(w,m,g,u,b,c,d,y){var _,S,E,O,I,L,T,B,M,H=y.bits,A=0,D=0,p=0,j=0,ee=0,U=0,te=0,K=0,Q=0,R=0,x=null,J=0,G=new r.Buf16(16),V=new r.Buf16(16),ue=null,ge=0;for(A=0;A<=15;A++)G[A]=0;for(D=0;D<u;D++)G[m[g+D]]++;for(ee=H,j=15;1<=j&&G[j]===0;j--);if(j<ee&&(ee=j),j===0)return b[c++]=20971520,b[c++]=20971520,y.bits=1,0;for(p=1;p<j&&G[p]===0;p++);for(ee<p&&(ee=p),A=K=1;A<=15;A++)if(K<<=1,(K-=G[A])<0)return-1;if(0<K&&(w===0||j!==1))return-1;for(V[1]=0,A=1;A<15;A++)V[A+1]=V[A]+G[A];for(D=0;D<u;D++)m[g+D]!==0&&(d[V[m[g+D]]++]=D);if(L=w===0?(x=ue=d,19):w===1?(x=a,J-=257,ue=o,ge-=257,256):(x=l,ue=h,-1),A=p,I=c,te=D=R=0,E=-1,O=(Q=1<<(U=ee))-1,w===1&&852<Q||w===2&&592<Q)return 1;for(;;){for(T=A-te,M=d[D]<L?(B=0,d[D]):d[D]>L?(B=ue[ge+d[D]],x[J+d[D]]):(B=96,0),_=1<<A-te,p=S=1<<U;b[I+(R>>te)+(S-=_)]=T<<24|B<<16|M|0,S!==0;);for(_=1<<A-1;R&_;)_>>=1;if(_!==0?(R&=_-1,R+=_):R=0,D++,--G[A]==0){if(A===j)break;A=m[g+d[D]]}if(ee<A&&(R&O)!==E){for(te===0&&(te=ee),I+=p,K=1<<(U=A-te);U+te<j&&!((K-=G[U+te])<=0);)U++,K<<=1;if(Q+=1<<U,w===1&&852<Q||w===2&&592<Q)return 1;b[E=R&O]=ee<<24|U<<16|I-c|0}}return R!==0&&(b[I+R]=A-te<<24|64<<16|0),y.bits=ee,0}},{"../utils/common":41}],51:[function(e,s,i){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,s,i){var r=e("../utils/common"),a=0,o=1;function l(k){for(var C=k.length;0<=--C;)k[C]=0}var h=0,w=29,m=256,g=m+1+w,u=30,b=19,c=2*g+1,d=15,y=16,_=7,S=256,E=16,O=17,I=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(g+2));l(H);var A=new Array(2*u);l(A);var D=new Array(512);l(D);var p=new Array(256);l(p);var j=new Array(w);l(j);var ee,U,te,K=new Array(u);function Q(k,C,F,$,N){this.static_tree=k,this.extra_bits=C,this.extra_base=F,this.elems=$,this.max_length=N,this.has_stree=k&&k.length}function R(k,C){this.dyn_tree=k,this.max_code=0,this.stat_desc=C}function x(k){return k<256?D[k]:D[256+(k>>>7)]}function J(k,C){k.pending_buf[k.pending++]=255&C,k.pending_buf[k.pending++]=C>>>8&255}function G(k,C,F){k.bi_valid>y-F?(k.bi_buf|=C<<k.bi_valid&65535,J(k,k.bi_buf),k.bi_buf=C>>y-k.bi_valid,k.bi_valid+=F-y):(k.bi_buf|=C<<k.bi_valid&65535,k.bi_valid+=F)}function V(k,C,F){G(k,F[2*C],F[2*C+1])}function ue(k,C){for(var F=0;F|=1&k,k>>>=1,F<<=1,0<--C;);return F>>>1}function ge(k,C,F){var $,N,q=new Array(d+1),Z=0;for($=1;$<=d;$++)q[$]=Z=Z+F[$-1]<<1;for(N=0;N<=C;N++){var W=k[2*N+1];W!==0&&(k[2*N]=ue(q[W]++,W))}}function ne(k){var C;for(C=0;C<g;C++)k.dyn_ltree[2*C]=0;for(C=0;C<u;C++)k.dyn_dtree[2*C]=0;for(C=0;C<b;C++)k.bl_tree[2*C]=0;k.dyn_ltree[2*S]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ie(k){8<k.bi_valid?J(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function me(k,C,F,$){var N=2*C,q=2*F;return k[N]<k[q]||k[N]===k[q]&&$[C]<=$[F]}function he(k,C,F){for(var $=k.heap[F],N=F<<1;N<=k.heap_len&&(N<k.heap_len&&me(C,k.heap[N+1],k.heap[N],k.depth)&&N++,!me(C,$,k.heap[N],k.depth));)k.heap[F]=k.heap[N],F=N,N<<=1;k.heap[F]=$}function Ce(k,C,F){var $,N,q,Z,W=0;if(k.last_lit!==0)for(;$=k.pending_buf[k.d_buf+2*W]<<8|k.pending_buf[k.d_buf+2*W+1],N=k.pending_buf[k.l_buf+W],W++,$===0?V(k,N,C):(V(k,(q=p[N])+m+1,C),(Z=L[q])!==0&&G(k,N-=j[q],Z),V(k,q=x(--$),F),(Z=T[q])!==0&&G(k,$-=K[q],Z)),W<k.last_lit;);V(k,S,C)}function Ae(k,C){var F,$,N,q=C.dyn_tree,Z=C.stat_desc.static_tree,W=C.stat_desc.has_stree,Y=C.stat_desc.elems,oe=-1;for(k.heap_len=0,k.heap_max=c,F=0;F<Y;F++)q[2*F]!==0?(k.heap[++k.heap_len]=oe=F,k.depth[F]=0):q[2*F+1]=0;for(;k.heap_len<2;)q[2*(N=k.heap[++k.heap_len]=oe<2?++oe:0)]=1,k.depth[N]=0,k.opt_len--,W&&(k.static_len-=Z[2*N+1]);for(C.max_code=oe,F=k.heap_len>>1;1<=F;F--)he(k,q,F);for(N=Y;F=k.heap[1],k.heap[1]=k.heap[k.heap_len--],he(k,q,1),$=k.heap[1],k.heap[--k.heap_max]=F,k.heap[--k.heap_max]=$,q[2*N]=q[2*F]+q[2*$],k.depth[N]=(k.depth[F]>=k.depth[$]?k.depth[F]:k.depth[$])+1,q[2*F+1]=q[2*$+1]=N,k.heap[1]=N++,he(k,q,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(se,ke){var at,Ie,ot,de,wt,Jt,Le=ke.dyn_tree,xn=ke.max_code,Js=ke.stat_desc.static_tree,Qs=ke.stat_desc.has_stree,Xs=ke.stat_desc.extra_bits,Bn=ke.stat_desc.extra_base,lt=ke.stat_desc.max_length,_t=0;for(de=0;de<=d;de++)se.bl_count[de]=0;for(Le[2*se.heap[se.heap_max]+1]=0,at=se.heap_max+1;at<c;at++)lt<(de=Le[2*Le[2*(Ie=se.heap[at])+1]+1]+1)&&(de=lt,_t++),Le[2*Ie+1]=de,xn<Ie||(se.bl_count[de]++,wt=0,Bn<=Ie&&(wt=Xs[Ie-Bn]),Jt=Le[2*Ie],se.opt_len+=Jt*(de+wt),Qs&&(se.static_len+=Jt*(Js[2*Ie+1]+wt)));if(_t!==0){do{for(de=lt-1;se.bl_count[de]===0;)de--;se.bl_count[de]--,se.bl_count[de+1]+=2,se.bl_count[lt]--,_t-=2}while(0<_t);for(de=lt;de!==0;de--)for(Ie=se.bl_count[de];Ie!==0;)xn<(ot=se.heap[--at])||(Le[2*ot+1]!==de&&(se.opt_len+=(de-Le[2*ot+1])*Le[2*ot],Le[2*ot+1]=de),Ie--)}}(k,C),ge(q,oe,k.bl_count)}function f(k,C,F){var $,N,q=-1,Z=C[1],W=0,Y=7,oe=4;for(Z===0&&(Y=138,oe=3),C[2*(F+1)+1]=65535,$=0;$<=F;$++)N=Z,Z=C[2*($+1)+1],++W<Y&&N===Z||(W<oe?k.bl_tree[2*N]+=W:N!==0?(N!==q&&k.bl_tree[2*N]++,k.bl_tree[2*E]++):W<=10?k.bl_tree[2*O]++:k.bl_tree[2*I]++,q=N,oe=(W=0)===Z?(Y=138,3):N===Z?(Y=6,3):(Y=7,4))}function P(k,C,F){var $,N,q=-1,Z=C[1],W=0,Y=7,oe=4;for(Z===0&&(Y=138,oe=3),$=0;$<=F;$++)if(N=Z,Z=C[2*($+1)+1],!(++W<Y&&N===Z)){if(W<oe)for(;V(k,N,k.bl_tree),--W!=0;);else N!==0?(N!==q&&(V(k,N,k.bl_tree),W--),V(k,E,k.bl_tree),G(k,W-3,2)):W<=10?(V(k,O,k.bl_tree),G(k,W-3,3)):(V(k,I,k.bl_tree),G(k,W-11,7));q=N,oe=(W=0)===Z?(Y=138,3):N===Z?(Y=6,3):(Y=7,4)}}l(K);var z=!1;function v(k,C,F,$){G(k,(h<<1)+($?1:0),3),function(N,q,Z,W){ie(N),J(N,Z),J(N,~Z),r.arraySet(N.pending_buf,N.window,q,Z,N.pending),N.pending+=Z}(k,C,F)}i._tr_init=function(k){z||(function(){var C,F,$,N,q,Z=new Array(d+1);for(N=$=0;N<w-1;N++)for(j[N]=$,C=0;C<1<<L[N];C++)p[$++]=N;for(p[$-1]=N,N=q=0;N<16;N++)for(K[N]=q,C=0;C<1<<T[N];C++)D[q++]=N;for(q>>=7;N<u;N++)for(K[N]=q<<7,C=0;C<1<<T[N]-7;C++)D[256+q++]=N;for(F=0;F<=d;F++)Z[F]=0;for(C=0;C<=143;)H[2*C+1]=8,C++,Z[8]++;for(;C<=255;)H[2*C+1]=9,C++,Z[9]++;for(;C<=279;)H[2*C+1]=7,C++,Z[7]++;for(;C<=287;)H[2*C+1]=8,C++,Z[8]++;for(ge(H,g+1,Z),C=0;C<u;C++)A[2*C+1]=5,A[2*C]=ue(C,5);ee=new Q(H,L,m+1,g,d),U=new Q(A,T,0,u,d),te=new Q(new Array(0),B,0,b,_)}(),z=!0),k.l_desc=new R(k.dyn_ltree,ee),k.d_desc=new R(k.dyn_dtree,U),k.bl_desc=new R(k.bl_tree,te),k.bi_buf=0,k.bi_valid=0,ne(k)},i._tr_stored_block=v,i._tr_flush_block=function(k,C,F,$){var N,q,Z=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(W){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&W.dyn_ltree[2*Y]!==0)return a;if(W.dyn_ltree[18]!==0||W.dyn_ltree[20]!==0||W.dyn_ltree[26]!==0)return o;for(Y=32;Y<m;Y++)if(W.dyn_ltree[2*Y]!==0)return o;return a}(k)),Ae(k,k.l_desc),Ae(k,k.d_desc),Z=function(W){var Y;for(f(W,W.dyn_ltree,W.l_desc.max_code),f(W,W.dyn_dtree,W.d_desc.max_code),Ae(W,W.bl_desc),Y=b-1;3<=Y&&W.bl_tree[2*M[Y]+1]===0;Y--);return W.opt_len+=3*(Y+1)+5+5+4,Y}(k),N=k.opt_len+3+7>>>3,(q=k.static_len+3+7>>>3)<=N&&(N=q)):N=q=F+5,F+4<=N&&C!==-1?v(k,C,F,$):k.strategy===4||q===N?(G(k,2+($?1:0),3),Ce(k,H,A)):(G(k,4+($?1:0),3),function(W,Y,oe,se){var ke;for(G(W,Y-257,5),G(W,oe-1,5),G(W,se-4,4),ke=0;ke<se;ke++)G(W,W.bl_tree[2*M[ke]+1],3);P(W,W.dyn_ltree,Y-1),P(W,W.dyn_dtree,oe-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Z+1),Ce(k,k.dyn_ltree,k.dyn_dtree)),ne(k),$&&ie(k)},i._tr_tally=function(k,C,F){return k.pending_buf[k.d_buf+2*k.last_lit]=C>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&C,k.pending_buf[k.l_buf+k.last_lit]=255&F,k.last_lit++,C===0?k.dyn_ltree[2*F]++:(k.matches++,C--,k.dyn_ltree[2*(p[F]+m+1)]++,k.dyn_dtree[2*x(C)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){G(k,2,3),V(k,S,H),function(C){C.bi_valid===16?(J(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(e,s,i){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,s,i){(function(r){(function(a,o){if(!a.setImmediate){var l,h,w,m,g=1,u={},b=!1,c=a.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(a);d=d&&d.setTimeout?d:a,l={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){_(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,O=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=O,E}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),function(E){a.postMessage(m+E,"*")}):a.MessageChannel?((w=new MessageChannel).port1.onmessage=function(E){_(E.data)},function(E){w.port2.postMessage(E)}):c&&"onreadystatechange"in c.createElement("script")?(h=c.documentElement,function(E){var O=c.createElement("script");O.onreadystatechange=function(){_(E),O.onreadystatechange=null,h.removeChild(O),O=null},h.appendChild(O)}):function(E){setTimeout(_,0,E)},d.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var O=new Array(arguments.length-1),I=0;I<O.length;I++)O[I]=arguments[I+1];var L={callback:E,args:O};return u[g]=L,l(g),g++},d.clearImmediate=y}function y(E){delete u[E]}function _(E){if(b)setTimeout(_,0,E);else{var O=u[E];if(O){b=!0;try{(function(I){var L=I.callback,T=I.args;switch(T.length){case 0:L();break;case 1:L(T[0]);break;case 2:L(T[0],T[1]);break;case 3:L(T[0],T[1],T[2]);break;default:L.apply(o,T)}})(O)}finally{y(E),b=!1}}}}function S(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(m)===0&&_(+E.data.slice(m.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(an)),an.exports}var na=ta();const sa=ni(na),ia=(n,t,e)=>({image:"/local/images/"+n+"/floor.png",type:"picture-elements",elements:[...e.map(s=>({type:"conditional",conditions:[{condition:"state",entity:"sun.sun",state:"above_horizon"}],elements:[{type:"image",style:{width:"100%",left:"50%",top:"50%"},image:"/local/images/"+n+"/layer_"+s.name+".png",tap_action:{action:"none"},hold_action:{action:"none"},entity:"sun.sun"}]})),...t.map(s=>({type:"conditional",conditions:[{condition:"state",entity:"switch.light_salon_right",state:"on"}],elements:[{type:"image",style:{width:"100%",left:"50%",top:"50%"},image:"/local/images/"+n+"/light_"+s.name+".png",tap_action:{action:"none"},hold_action:{action:"none"},entity:"switch.light_salon_right"}]}))]}),ra=n=>{const t=n.length;let e=0,s=0,i=0;for(let r=0;r<t;r++){const a=n[r][0],o=n[r][1],l=n[(r+1)%t][0],h=n[(r+1)%t][1],w=a*h-l*o;e+=w,s+=(a+l)*w,i+=(o+h)*w}return e*=.5,s/=6*e,i/=6*e,[s,i]},aa=({floor:n})=>{const[t,e]=pe.useState(),[s,i]=pe.useState(n.lightSources),[r,a]=pe.useState(n.layers[0]),[o,l]=pe.useState(!1),[h,w]=pe.useState(),m=pe.useRef(null);return pe.useEffect(()=>{if(!n.base64)return;const g=new Image;l(!0),g.onload=async()=>{if(!g||g.width===0||g.height===0)return;const u=si(g),b=u.getContext("2d");if(!b){console.error("Could not get 2d context");return}if(b.drawImage(g,0,0),r){const c=await ii(g,r);c&&(b.globalCompositeOperation="source-over",b.drawImage(c,0,0))}for(const c of s){const d=await ri(g,c.polygon,{debug:!1,borderWidth:c.border,shadowRelease:c.shadowRelease,radius:c.radius,lightColor:c.color});if(!d){console.error("Could not extract polygon with shadow");continue}b.globalCompositeOperation="source-over",b.drawImage(d,0,0)}e(u.toDataURL("image/png")),l(!1)},g.src=n.base64},[n.base64,s,r]),pe.useEffect(()=>{if(!m.current||h)return;(async()=>{const u=m.current.getBoundingClientRect();if(u.width===0||u.height===0)return;const b=await hi(n.base64),c=Math.min(b.width/u.width,b.height/u.height);w(c)})()}),o&&!t?re.jsx(ai,{}):re.jsxs(re.Fragment,{children:[re.jsx(oi,{variant:"contained",loading:o,onClick:async()=>{const g=n.name,u=new sa,b=ia(g,n.lightSources,n.layers),c=ea.stringify(b),d=new Blob([c],{type:"text/yaml"});u.file(g+".yaml",d);for(const y of n.lightSources){const _=await li(n.base64,y);u.file(`${g}/light_${y.name}.png`,_)}for(const y of n.layers){const _=await ci(n.base64,y);u.file(`${g}/layer_${y.name}.png`,_)}u.file(`${g}/floor.png`,fi(n.base64)),ui(await u.generateAsync({type:"blob"}),g+".zip")},children:"ZIP"}),re.jsx(qi,{children:re.jsx(es,{spacing:1,direction:"row",alignItems:"center",children:n.layers.map(g=>re.jsx(_i,{control:re.jsx(Mi,{checked:r===g,onChange:u=>{u.target.checked&&a(g)}}),label:g.name},g.name))})}),re.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[re.jsx("img",{ref:m,src:t,style:{maxHeight:"100%",maxWidth:"100%"}}),n.lightSources.map(g=>{const u=ra(g.polygon),b=s.some(c=>c.id===g.id);return re.jsx("div",{style:{position:"absolute",left:u[0]/(h??1),top:u[1]/(h??1),cursor:"pointer",height:"1rem",width:"1rem",boxShadow:`2px 4px 4px 0 rgba(${b?"0, 0, 0":"200, 200, 200"}, 0.5)`,borderRadius:"50%",backgroundColor:b?"white":"black",border:b?"1px solid black":"1px solid white"},onClick:()=>{i(b?s.filter(c=>c.id!==g.id):[...s,g])}},g.id)})]})]})},ca=()=>{const{floorId:n}=di(),t=pe.useContext(pi),e=mi(n);return e?re.jsx(ki,{initialValues:e,onSubmit:s=>t==null?void 0:t.onChange(s),validationSchema:vi.toFormikValidationSchema(Oi),validateOnChange:!0,validateOnMount:!0,children:re.jsxs(Si,{children:[re.jsx(Ai,{}),re.jsxs(es,{spacing:4,style:{height:"100%"},children:[re.jsx(Ei,{}),re.jsx("div",{style:{flex:1},children:re.jsx(aa,{floor:e})})]})]})}):"Pas de foor ?"};export{ca as FloorView};
